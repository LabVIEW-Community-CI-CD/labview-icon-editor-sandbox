ID,Section,Requirement Statement,Type,Priority,Verification Methods (from SRS),Primary Method (select),Acceptance Criteria,Agent Procedure (step-by-step),Evidence to Collect,Owner/Role,Phase/Gate,Status,Date Last Updated,Test Case ID / Link,Upstream Trace,Downstream Trace,Notes,Rationale,Risk,Assumptions,Constraints,Version & Change Notes,Verification Detail,Verification Level
TRW-001,9.1 Workflow Triggering & Scope,The workflow **shall run only** in response to a `workflow_run` of the upstream workflow named **“CI Pipeline”**.,Functional/Performance,High,"Inspection, Demonstration",Inspection,Only `workflow_run` is declared with `workflows: [CI Pipeline]` and `types: [completed]`. Pass when observed failures = 0 and required events are captured in logs with timestamps.,"Open `.github/workflows/draft-release.yml`.Verify `on.workflow_run.workflows` includes `CI Pipeline` and `on.workflow_run.types` includes `completed`.Confirm no other event triggers (`push`, `pull_request`, schedule) are defined for this workflow.",Workflow YAML snippet showing the `on: workflow_run` section.; Screenshot or log of event payload proving trigger source.,Automation QA (Agent),CI Integration,Completed,2025-11-20,"SRS Section 9.1 trigger guard for draft-release (line 109, allow workflow_run CI Pipeline).","SRS Section 9.1 trigger guard for draft-release (line 109, allow workflow_run CI Pipeline).",Workflow: .github/workflows/draft-release.yml; Tests: trigger simulation for workflow_run CI Pipeline.,Derived from SRS line 109; Verified .github/workflows/draft-release.yml allows only workflow_run from CI Pipeline with type completed; no other triggers.,Required to prevent unintended draft-release runs; derived from SRS Section 9.1 (CI trigger policy).,"Risk: workflow fires on wrong upstream job, causing unintended drafts/releases (quality/compliance).",Assumes .github/workflows/draft-release.yml owns release flow; upstream workflow emits workflow_run events.,"GitHub Actions workflow_run trigger only; upstream workflow name shall remain ""CI Pipeline"".",1 | hash=c9a47935ec89 | Baseline 2025-11-26,Inspection: compare .github/workflows/draft-release.yml on.workflow_run block (workflows/types) to requirement; attach YAML snippet and sample workflow_run payload.,System
TRW-002,9.1 Workflow Triggering & Scope,The workflow **shall proceed only** when the upstream `workflow_run.conclusion` equals `success`.,Functional/Performance,High,Test,Test,Workflow runs when `conclusion=success` and does not run (or exits early) when `conclusion≠success`. Pass when observed failures = 0 and required events are captured in logs with timestamps.,"Create a controlled upstream run with `conclusion=success` and another with `conclusion=failure` (e.g., dispatch or replay).Observe draft-release workflow behavior for both upstream runs.",Two run URLs with conclusions and downstream run status.; Logs showing conditional gate `github.event.workflow_run.conclusion == 'success'`.,Automation QA (Agent),CI Integration,Completed,2025-11-20,SRS Section 9.1 upstream success gate.,SRS Section 9.1 upstream success gate.,Workflow condition in .github/workflows/draft-release.yml; CI replay test case.,Derived from SRS line 110; Guard present in .github/workflows/draft-release.yml to exit unless workflow_run.conclusion == success.,Prevents downstream release on failed upstream runs per SRS Section 9.1 success gate.,Risk: tagging/releases on failed builds; mitigation: gate on conclusion==success.,Upstream workflow populates conclusion; CI permissions allow reading payload.,Uses github.event.workflow_run.conclusion == success guard; relies on upstream run data.,1 | hash=11dedb56adef | Baseline 2025-11-26,Demonstration/Test: replay workflow_run events with success/failure conclusions and observe draft-release gating; capture logs and GHA UI showing skip on failure.,System
TRW-003,9.1 Workflow Triggering & Scope,The workflow **shall proceed only** when the upstream workflow was triggered by a `push` event.,Functional/Performance,High,Test,Test,Downstream workflow proceeds only when upstream `event` is `push`; other events are skipped.,Ensure the job has an early `if:` guard: `github.event.workflow_run.event == 'push'`.Trigger an upstream run caused by `push` and one by `pull_request`; observe behavior.,YAML snippet with `if: ${{ github.event.workflow_run.event == 'push' }}`.; Run logs/screens showing skip on non-push events.,Automation QA (Agent),CI Integration,Completed,2025-11-20,SRS Section 9.1 event source constraint.,SRS Section 9.1 event source constraint.,draft-release workflow if guard; replay tests covering push vs non-push.,Derived from SRS line 111; Guard present in .github/workflows/draft-release.yml to exit unless workflow_run.event == push.,Avoids running release flow for non-push events; aligns with SRS branch policy.,Risk: releases from PR/replay events; mitigation: enforce push-only upstream origin.,Upstream workflow_run.event present; branch policy encoded in workflow.,"Relies on github.event.workflow_run.event == ""push"" guard in workflow.",1 | hash=f56cd71970da | Baseline 2025-11-26,Demonstration/Test: trigger workflow_run from push vs pull_request; facility: GitHub Actions; witness: QA reviewer; equipment: run logs/console; pass when push executes and pull_request skips.,System
TRW-004,9.1 Workflow Triggering & Scope,"The workflow **shall evaluate the upstream `head_branch`** against a configurable allow‑list of patterns: `main`, `develop`, `release-alpha/*`, `release-beta/*`, `release-rc/*` (default), with support for extension via configuration.",Functional/Performance,High,"Analysis/Simulation, Test",Analysis/Simulation,Branches in allow-list proceed; others are blocked with a clear diagnostic. Pass when observed failures = 0 and required events are captured in logs with timestamps.,"Identify the allow-list patterns (e.g., `main`, `develop`, `release-*`).Verify gate logic evaluates `github.event.workflow_run.head_branch` against the list.Test with branches matching and not matching the list.",Config file or YAML `if` expression showing pattern check.; Run logs from both allowed and disallowed branches.,Automation QA (Agent),CI Integration,Completed,2025-11-20,SRS Section 9.1 branch allow-list.,SRS Section 9.1 branch allow-list.,draft-release workflow allow-list condition; branch policy tests.,"Derived from SRS line 112; Allow-list enforced in .github/workflows/draft-release.yml with defaults (main, develop, release-alpha/*, release-beta/*, release-rc/*) and optional extensions via ALLOWED_BRANCH_PATTERNS.",Ensures release flow constrained to allowed branches per SRS Section 9.1.,Risk: unintended releases from feature branches; mitigation: allow-list enforcement.,Branch patterns maintained in workflow env/inputs; pattern evaluation uses startswith/glob.,"Default allow-list: main, develop, release-alpha/*, release-beta/*, release-rc/*; configurable via ALLOWED_BRANCH_PATTERNS.",1 | hash=95e63fa273ae | Baseline 2025-11-26,Inspection + Analysis/Simulation: review allow-list expression in .github/workflows/draft-release.yml; method: simulated workflow_run payloads using gha-runner; tool: GitHub Actions event simulator; record results.,System
TRW-005,9.1 Workflow Triggering & Scope,"For branches outside the allow‑list, the workflow **shall terminate** with a **no‑op outcome** and perform **no tag or release operations**.",Functional/Performance,High,Test,Test,No tags or releases created; logs indicate no-op by branch policy. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Execute a run from a branch not in the allow-list.Confirm the workflow exits with a no-op and performs no tag or release operations.,Run log capturing no-op decision.; Release/tags UI showing no changes.,Automation QA (Agent),CI Integration,Completed,2025-11-20,SRS Section 9.1 no-op on disallowed branches.,SRS Section 9.1 no-op on disallowed branches.,draft-release noop guard; CI test proving no tag/release artifacts.,Derived from SRS line 113; Branch allow-list gate in .github/workflows/draft-release.yml exits before tag/release steps for disallowed branches.,Prevents tag/release side effects for disallowed branches; ties to SRS non-destructive policy.,Risk: accidental tags/releases on disallowed branches; mitigation: early noop path.,No side-car automation creates tags outside workflow; noop path short-circuits before actions/create-release.,Workflow shall exit before tag/release steps for disallowed branches; uses GITHUB_TOKEN contents:write only when allowed.,1 | hash=426b25219ff8 | Baseline 2025-11-26,"Demonstration/Test: run disallowed branch on GitHub Actions (facility), witness QA, equipment: workflow logs and git tag/release listing; pass when no tags/releases created and log shows noop.",System
TRW-006,9.1 Workflow Triggering & Scope,The workflow shall ensure at most one run per commit SHA is active at any time using a concurrency group keyed by the SHA.,Process,High,"Inspection, Demonstration",Inspection,Trigger two runs for the same commit within 1 minute; the earlier run transitions to cancelled and only one run proceeds to completion. Logs show concurrency group name containing the commit SHA.,Open .github/workflows/draft-release.yml and confirm concurrency.group includes commit SHA and cancel-in-progress: true. Trigger two runs for the same commit; observe first run cancelled and second succeeds.,YAML snippet of concurrency block; run history showing first run cancelled and second completed for same SHA with timestamps.,Automation QA (Agent),CI Integration,Completed,2025-11-20,SRS Section 9.1 dedupe requirement.,SRS Section 9.1 dedupe requirement.,draft-release concurrency block; run history showing cancellation/queuing.,Derived from SRS line 114; Concurrency configured in .github/workflows/draft-release.yml with group: ${{ github.workflow }}-${{ github.event.workflow_run.head_sha }} and cancel-in-progress: true to ensure one run per commit.,Avoids duplicate runs per commit to keep release state consistent.,Risk: parallel runs racing on same commit causing tag conflicts.,Runner supports GHA concurrency; SHA stable per run.,Uses GitHub Actions concurrency group keyed by commit SHA with cancel-in-progress true.,2 | hash=a1b3ad8486e9 | Split for atomic concurrency coverage 2025-11-26,Inspection of concurrency.group in .github/workflows/draft-release.yml (includes commit SHA) and cancel-in-progress: true; demonstration by triggering overlapping runs and capturing queue/cancel behavior.,System
TRW-006B,9.1 Workflow Triggering & Scope,"When a new run starts for the same commit SHA, the workflow shall cancel any in-progress run for that SHA (cancel-in-progress policy).",Process,High,"Inspection, Demonstration",Inspection,"With cancel-in-progress enabled, trigger two runs for the same commit; first run ends with status=cancelled and second run completes. Logs show cancellation event with timestamps.",Open .github/workflows/draft-release.yml and confirm concurrency.group includes commit SHA and cancel-in-progress: true. Trigger two runs for the same commit; observe first run cancelled and second succeeds.,Run history showing first run cancelled and second succeeded for same SHA; log line indicating cancel-in-progress trigger.,Automation QA (Agent),CI Integration,Completed,2025-11-20,SRS Section 9.1 dedupe requirement.,SRS Section 9.1 dedupe requirement.,draft-release concurrency block; run history showing cancellation/queuing.,Atomic split of concurrency behavior: cancellation policy is enforced when duplicate runs occur.,Avoids duplicate runs per commit to keep release state consistent.,Risk: parallel runs racing on same commit causing tag conflicts.,Runner supports GHA concurrency; SHA stable per run.,Uses GitHub Actions concurrency group keyed by commit SHA with cancel-in-progress true.,1 | hash=4f3d8849de8e | Added atomic requirement 2025-11-26,Inspection of concurrency.group in .github/workflows/draft-release.yml (includes commit SHA) and cancel-in-progress: true; demonstration by triggering overlapping runs and capturing queue/cancel behavior.,System
TRW-006C,9.1 Workflow Triggering & Scope,"The workflow shall log the configured concurrency policy (e.g., cancel-in-progress=true) at start for traceability.",Process,High,"Inspection, Demonstration",Inspection,Workflow log (before first job step) contains exactly one line matching regex `concurrency_policy=[a-z]+; concurrency_group=[^\s]+`; timestamp recorded from the log entry.,Open .github/workflows/draft-release.yml and confirm concurrency.group includes commit SHA and cancel-in-progress: true. Trigger two runs for the same commit; observe first run cancelled and second succeeds.,Workflow log excerpt with concurrency_policy entry and group value.,Automation QA (Agent),CI Integration,Completed,2025-11-20,SRS Section 9.1 dedupe requirement.,SRS Section 9.1 dedupe requirement.,draft-release concurrency block; run history showing cancellation/queuing.,Atomic split of concurrency behavior: policy is declared in logs for auditability.,Avoids duplicate runs per commit to keep release state consistent.,Risk: parallel runs racing on same commit causing tag conflicts.,Runner supports GHA concurrency; SHA stable per run.,Uses GitHub Actions concurrency group keyed by commit SHA with cancel-in-progress true.,1 | hash=6de8770c74d6 | Added atomic requirement 2025-11-26,Inspection of concurrency.group in .github/workflows/draft-release.yml (includes commit SHA) and cancel-in-progress: true; demonstration by triggering overlapping runs and capturing queue/cancel behavior.,System
TRW-010,9.2 Versioning & Bump Logic,The workflow **shall compute the next version** from: (a) last reachable tag; (b) parsed semantic version; and (c) commit count since that tag as **BUILD**.,Functional/Performance,High,"Analysis/Simulation, Test",Analysis/Simulation,"Version is computed from last tag, parsed semver, and commit count as build number.",Fetch full git history (`fetch-depth: 0`).Resolve last reachable tag and parse semantic version; determine commit count since tag.Compute next version candidate.,"Logs with last tag, parsed parts, and commit count.; Printed `VERSION_STRING`.",Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/actions/compute-version; .github/workflows/ci.yml test-compute-version-bump matrix,.github/actions/compute-version; .github/workflows/ci.yml test-compute-version-bump matrix,.github/workflows/ci.yml jobs test-compute-version-bump and version outputs,"Derived from SRS line 120; Compute-version action derives MAJOR/MINOR/PATCH from last reachable tag, defaults to 0.1.0 if none, and sets BUILD to commit count since that tag.",Ensures deterministic semantic version selection for releases and artifacts.,Risk: incorrect bump creates wrong tags/releases; mitigations: matrix tests and guard rails on labels/branches.,Assumes reachable git tags and label metadata are available in CI context.,Runs in GitHub Actions; uses repo history and labels; no manual tag moves.,1 | hash=206eadb71468 | Baseline 2025-11-26,"Analysis/Simulation: record method/tool version, inputs/data source, acceptance thresholds, and output review steps (.",System
TRW-011,9.2 Versioning & Bump Logic,"When no previous tag exists, the base version **shall default to `0.1.0`** prior to applying bump rules.",Functional/Performance,Medium,Test,Test,"When no prior tag exists, version defaults to configured base (e.g., `0.1.0`).",Delete tags locally/in test repo to simulate no previous tag.Run version computation routine.,Log excerpt showing base version fallback path.; `VERSION_STRING` value in output.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/actions/compute-version; .github/workflows/ci.yml test-compute-version-bump matrix,.github/actions/compute-version; .github/workflows/ci.yml test-compute-version-bump matrix,.github/workflows/ci.yml jobs test-compute-version-bump and version outputs,Derived from SRS line 121; Compute-version action falls back to base version 0.1.0 when no prior tag exists before applying bump rules.,Ensures deterministic semantic version selection for releases and artifacts.,Risk: incorrect bump creates wrong tags/releases; mitigations: matrix tests and guard rails on labels/branches.,Assumes reachable git tags and label metadata are available in CI context.,Runs in GitHub Actions; uses repo history and labels; no manual tag moves.,1 | hash=4b46ff0f0708 | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-012,9.2 Versioning & Bump Logic,"In **PR CI context**, the bump type **shall be determined by PR labels**: `major`, `minor`, or `patch`; exactly one such label shall be present; if none, **default to `patch`**; if multiple, **fail** the computation with a clear diagnostic.",Functional/Performance,High,Test,Test,Bump type follows labels; multiple label case fails; none defaults to `patch`. Pass when observed failures = 0 and required events are captured in logs with timestamps.,"Create a PR with label `major`, then with `minor`, then with `patch`.Create a PR with multiple bump labels to observe failure.Create a PR with no bump labels to observe default.",CI logs mapping label to bump type.; Failure log for multiple labels.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/actions/compute-version; .github/workflows/ci.yml test-compute-version-bump matrix,.github/actions/compute-version; .github/workflows/ci.yml test-compute-version-bump matrix,.github/workflows/ci.yml jobs test-compute-version-bump and version outputs,"Derived from SRS line 122; Compute-version action selects bump from PR labels (major/minor/patch), defaults to patch when none, and fails with a clear diagnostic if multiple labels are present.",Ensures deterministic semantic version selection for releases and artifacts.,Risk: incorrect bump creates wrong tags/releases; mitigations: matrix tests and guard rails on labels/branches.,Assumes reachable git tags and label metadata are available in CI context.,Runs in GitHub Actions; uses repo history and labels; no manual tag moves.,1 | hash=cf6325968a8a | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-013,9.2 Versioning & Bump Logic,"In **push context on release branches**, the default bump type **shall be at least `patch`** unless overridden by explicit configuration.",Functional/Performance,High,Test,Test,Push on release branches yields at least a `patch` bump by default.,"Push commits to a release branch (e.g., `release-alpha/x`).Observe default bump type selection (≥ patch) unless overridden in config.",Logs showing selected bump type and branch context.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/actions/compute-version; .github/workflows/ci.yml test-compute-version-bump matrix,.github/actions/compute-version; .github/workflows/ci.yml test-compute-version-bump matrix,.github/workflows/ci.yml jobs test-compute-version-bump and version outputs,"Derived from SRS line 123; Compute-version action defaults bump to patch on release branches (release-alpha/*, release-beta/*, release-rc/*, release/*) in non-PR contexts.",Ensures deterministic semantic version selection for releases and artifacts.,Risk: incorrect bump creates wrong tags/releases; mitigations: matrix tests and guard rails on labels/branches.,Assumes reachable git tags and label metadata are available in CI context.,Runs in GitHub Actions; uses repo history and labels; no manual tag moves.,1 | hash=dde5342d4b5b | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-014,9.2 Versioning & Bump Logic,"The workflow **shall emit outputs**: `MAJOR`, `MINOR`, `PATCH`, `BUILD_NUMBER`, `VERSION_STRING`, and `IS_PRERELEASE`.",Interface,High,Test,Test,"`MAJOR`, `MINOR`, `PATCH`, `BUILD_NUMBER`, `VERSION_STRING`, and `IS_PRERELEASE` are exported and visible to subsequent steps. Pass when observed failures = 0 and required events are captured in logs with timestamps.",Run the version step and capture exported outputs.,Job output or `GITHUB_OUTPUT` file contents.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/actions/compute-version; .github/workflows/ci.yml test-compute-version-bump matrix,.github/actions/compute-version; .github/workflows/ci.yml test-compute-version-bump matrix,.github/workflows/ci.yml jobs test-compute-version-bump and version outputs,"Derived from SRS line 124; Compute-version action exports MAJOR, MINOR, PATCH, BUILD_NUMBER, VERSION_STRING, and IS_PRERELEASE for downstream steps.",Ensures deterministic semantic version selection for releases and artifacts.,Risk: incorrect bump creates wrong tags/releases; mitigations: matrix tests and guard rails on labels/branches.,Assumes reachable git tags and label metadata are available in CI context.,Runs in GitHub Actions; uses repo history and labels; no manual tag moves.,1 | hash=76c8368486a5 | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-015,9.2 Versioning & Bump Logic,Pre‑release suffix rules **shall** be applied by branch: `release-alpha/*` → `alpha.<BUILD>`; `release-beta/*` → `beta.<BUILD>`; `release-rc/*` → `rc.<BUILD>`; other allowed stable branches → **no suffix**.,Functional/Performance,High,Test,Test,"Suffixes match `alpha.<BUILD>`, `beta.<BUILD>`, `rc.<BUILD>`; stable has none. Pass when observed failures = 0 and required events are captured in logs with timestamps.","Execute the workflow on `release-alpha/*`, `release-beta/*`, and `release-rc/*` branches and on a stable branch.Verify suffix formation per branch and that stable branches have no suffix.",Computed version strings for each branch case.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/actions/compute-version; .github/workflows/ci.yml test-compute-version-bump matrix,.github/actions/compute-version; .github/workflows/ci.yml test-compute-version-bump matrix,.github/workflows/ci.yml jobs test-compute-version-bump and version outputs,"Derived from SRS line 125; Compute-version action applies suffixes alpha.<BUILD>, beta.<BUILD>, rc.<BUILD> for release-alpha/beta/rc branches and no suffix for stable branches.",Ensures deterministic semantic version selection for releases and artifacts.,Risk: incorrect bump creates wrong tags/releases; mitigations: matrix tests and guard rails on labels/branches.,Assumes reachable git tags and label metadata are available in CI context.,Runs in GitHub Actions; uses repo history and labels; no manual tag moves.,1 | hash=78f0eced6026 | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-016,9.2 Versioning & Bump Logic,Stable branches **shall** produce versions **without** any pre‑release suffix; pre‑release branches **shall** include the configured suffix.,Functional/Performance,High,Test,Test,Stable branches produce suffix-free versions; prerelease branches include suffix. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Trigger runs on stable vs prerelease branches.Confirm that only prerelease branches append a suffix.,Logs showing `IS_PRERELEASE` and final version strings.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/actions/compute-version; .github/workflows/ci.yml test-compute-version-bump matrix,.github/actions/compute-version; .github/workflows/ci.yml test-compute-version-bump matrix,.github/workflows/ci.yml jobs test-compute-version-bump and version outputs,Derived from SRS line 126; Compute-version action marks prerelease branches with suffix and sets IS_PRERELEASE=true; stable branches emit no suffix and IS_PRERELEASE=false.,Ensures deterministic semantic version selection for releases and artifacts.,Risk: incorrect bump creates wrong tags/releases; mitigations: matrix tests and guard rails on labels/branches.,Assumes reachable git tags and label metadata are available in CI context.,Runs in GitHub Actions; uses repo history and labels; no manual tag moves.,1 | hash=69be64b3ddad | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-020,9.3 Tag Naming & Uniqueness,The tag name format **shall be** `v<MAJOR>.<MINOR>.<PATCH>.<BUILD>`.,Interface,High,"Inspection, Test",Inspection,Tag string matches exact pattern `vX.Y.Z.N`.,"Confirm tag format logic produces `v<MAJOR>.<MINOR>.<PATCH>.<BUILD>` (with optional suffix in version, not in tag).Generate example tags from computed version.",Printed tag value; regex check result.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/draft-release.yml tag/check logic,.github/workflows/draft-release.yml tag/check logic,.github/workflows/ci.yml job test-tag-existence-check,Derived from SRS line 132; draft-release workflow forms tags as v<MAJOR>.<MINOR>.<PATCH>.<BUILD> without prerelease suffix.,Prevents tag collisions and enforces predictable naming for release automation.,Risk: tags overwritten or malformed; mitigation via preflight checks and failure on mismatch.,Assumes git remote reachable and permissions to read tags.,Uses GITHUB_TOKEN with contents:write; no destructive tag moves permitted.,1 | hash=012568abaaee | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
TRW-020B,9.3 Tag Naming & Uniqueness,The tag name shall exclude any prerelease suffix even when VERSION_STRING includes a prerelease suffix.,Interface,High,"Inspection, Test",Inspection,Computed tag matches regex `^v[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+$`; VERSION_STRING may include prerelease suffix but tag does not contain alpha/beta/rc tokens.,"Run version computation for a prerelease branch (e.g., release-beta/*) producing VERSION_STRING with suffix; verify resulting tag omits suffix and matches vMAJOR.MINOR.PATCH.BUILD.",VERSION_STRING value with suffix; computed tag value; regex proof/tag check logs.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/draft-release.yml tag/check logic,.github/workflows/draft-release.yml tag/check logic,.github/workflows/ci.yml job test-tag-existence-check,Negative assurance that prerelease markers stay out of tags.,Prevents tag collisions and enforces predictable naming for release automation.,Risk: tags overwritten or malformed; mitigation via preflight checks and failure on mismatch.,Assumes git remote reachable and permissions to read tags.,Uses GITHUB_TOKEN with contents:write; no destructive tag moves permitted.,1 | hash=ec4f3778d0f3 | Added prerelease-tag exclusion 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
TRW-021,9.3 Tag Naming & Uniqueness,"Before creating a tag, the workflow **shall check** for an existing tag with the same name and, if present, **shall retrieve its target SHA**.",Functional/Performance,High,Test,Test,"If tag exists, corresponding object SHA is retrieved. Pass when observed failures = 0 and required events are captured in logs with timestamps.",Query repository for tag existence (via `git ls-remote --tags` or API).Capture SHA if present.,Command output or API response showing tag and SHA.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/draft-release.yml tag/check logic,.github/workflows/draft-release.yml tag/check logic,.github/workflows/ci.yml job test-tag-existence-check,Derived from SRS line 133; draft-release workflow checks origin for existing tag and captures SHA via git ls-remote before creation.,Prevents tag collisions and enforces predictable naming for release automation.,Risk: tags overwritten or malformed; mitigation via preflight checks and failure on mismatch.,Assumes git remote reachable and permissions to read tags.,Uses GITHUB_TOKEN with contents:write; no destructive tag moves permitted.,1 | hash=3696dbbe2b88 | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-022,9.3 Tag Naming & Uniqueness,"If the tag exists and **resolves to the same commit** SHA as the current run, the workflow **shall treat the condition as success** and **shall not** create a duplicate tag; release creation may be skipped per configuration.",Functional/Performance,High,Test,Test,Existing tag on same commit is treated as success; no duplicate operations performed. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Create a tag on the same commit and rerun workflow.Observe that run treats it as success and optionally skips release creation per config.,Logs indicating detection of same-commit tag and skip path.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/draft-release.yml tag/check logic,.github/workflows/draft-release.yml tag/check logic,.github/workflows/ci.yml job test-tag-existence-check,Derived from SRS line 134; draft-release workflow treats existing tag on same commit as success and skips duplicate creation.,Prevents tag collisions and enforces predictable naming for release automation.,Risk: tags overwritten or malformed; mitigation via preflight checks and failure on mismatch.,Assumes git remote reachable and permissions to read tags.,Uses GITHUB_TOKEN with contents:write; no destructive tag moves permitted.,1 | hash=7f17c7e7fcf6 | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-023,9.3 Tag Naming & Uniqueness,"If the tag exists and **resolves to a different commit**, the workflow **shall fail** with a clear conflict diagnostic and **shall not** move or overwrite the tag.",Functional/Performance,High,Test,Test,Workflow fails with explicit diagnostic; tag is not moved or overwritten. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Create a tag with the same name but pointing to a different commit.Run the workflow and observe failure and no overwrite.,Logs with the two SHAs and failure status.; Tag ref still points to original commit.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/draft-release.yml tag/check logic,.github/workflows/draft-release.yml tag/check logic,.github/workflows/ci.yml job test-tag-existence-check,Derived from SRS line 135; draft-release workflow fails if existing tag points to a different commit and does not overwrite it.,Prevents tag collisions and enforces predictable naming for release automation.,Risk: tags overwritten or malformed; mitigation via preflight checks and failure on mismatch.,Assumes git remote reachable and permissions to read tags.,Uses GITHUB_TOKEN with contents:write; no destructive tag moves permitted.,1 | hash=9c16d72b6010 | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-024,9.3 Tag Naming & Uniqueness,The workflow **shall prevent** different branches from generating identical tags by incorporating BUILD and (where applicable) pre‑release suffix rules in Section 9.2.,Quality (non-functional),High,"Analysis/Simulation, Test",Analysis/Simulation,Different branches do not produce identical tags; collision path is blocked. Pass when observed failures = 0 and required events are captured in logs with timestamps.,"Run two branches that could compute the same version (e.g., ensure build numbers or suffixes disambiguate).Verify the workflow prevents identical tag generation across branches.",Logs showing branch-safe versioning decision.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/draft-release.yml tag/check logic,.github/workflows/draft-release.yml tag/check logic,.github/workflows/ci.yml job test-tag-existence-check,"Derived from SRS line 136; draft-release workflow fails on conflicting existing tags, ensuring different branches cannot produce identical tags and overwrite each other.",Prevents tag collisions and enforces predictable naming for release automation.,Risk: tags overwritten or malformed; mitigation via preflight checks and failure on mismatch.,Assumes git remote reachable and permissions to read tags.,Uses GITHUB_TOKEN with contents:write; no destructive tag moves permitted.,2 | hash=64b29fe0ed12 | Normalized text after schema update 2025-11-26,"Analysis/Simulation: record method/tool version, inputs/data source, acceptance thresholds, and output review steps (.",System
TRW-030,9.4 Artifact Requirements & Validation,The workflow **shall rely on artifacts** uploaded by the upstream CI run associated with the triggering `workflow_run`.,Functional/Performance,High,Demonstration,Demonstration,Workflow downloads artifacts from upstream run. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Verify presence of artifact download step referencing the upstream `workflow_run` ID.,Logs of artifact download with run ID.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/actions/analyze-vi-package; scripts/analyze-vi-package/Analyze-VIP.ps1,.github/actions/analyze-vi-package; scripts/analyze-vi-package/Analyze-VIP.ps1,.github/workflows/ci.yml build and analysis steps,Derived from SRS line 142; draft-release workflow downloads artifacts from the triggering workflow_run via actions/download-artifact using run-id.,Enforces artifact integrity before publish.,Risk: shipping corrupted artifacts; mitigations: analyze-vi-package gate and artifact checks.,Assumes VIPB/VIP artifacts produced in builds.,Runs in CI with access to built artifacts; no external writes beyond artifacts.,1 | hash=ad1aa5e79d08 | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-031,9.4 Artifact Requirements & Validation,The workflow **shall download** the artifacts of the triggering `workflow_run`.,Functional/Performance,High,Test,Test,Artifacts are retrieved to the runner workspace. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Enumerate artifacts available from `workflow_run` and download them.,Artifact list and local file tree snapshot.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/actions/analyze-vi-package; scripts/analyze-vi-package/Analyze-VIP.ps1,.github/actions/analyze-vi-package; scripts/analyze-vi-package/Analyze-VIP.ps1,.github/workflows/ci.yml build and analysis steps,Derived from SRS line 143; draft-release workflow downloads artifacts from triggering workflow_run and lists them under artifacts/ for verification.,Enforces artifact integrity before publish.,Risk: shipping corrupted artifacts; mitigations: analyze-vi-package gate and artifact checks.,Assumes VIPB/VIP artifacts produced in builds.,Runs in CI with access to built artifacts; no external writes beyond artifacts.,1 | hash=8f8314e1f3c4 | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-032,9.4 Artifact Requirements & Validation,The workflow **shall locate exactly one** `.vip` package and **exactly one** release notes Markdown file within the downloaded artifacts.,Functional/Performance,High,Test,Test,Exactly one of each required artifact is located.,Search the artifacts for exactly one `.vip` package and exactly one release-notes markdown file.,File list with counts; names of selected files.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/actions/analyze-vi-package; scripts/analyze-vi-package/Analyze-VIP.ps1,.github/actions/analyze-vi-package; scripts/analyze-vi-package/Analyze-VIP.ps1,.github/workflows/ci.yml build and analysis steps,"Derived from SRS line 144; draft-release workflow enforces exactly one .vip and one release_notes_*.md in artifacts, failing on missing or plural occurrences.",Enforces artifact integrity before publish.,Risk: shipping corrupted artifacts; mitigations: analyze-vi-package gate and artifact checks.,Assumes VIPB/VIP artifacts produced in builds.,Runs in CI with access to built artifacts; no external writes beyond artifacts.,1 | hash=fb2970b668d9 | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-033,9.4 Artifact Requirements & Validation,The filenames of those artifacts **shall contain** the computed `VERSION_STRING` to enforce **version–artifact consistency**.,Quality (non-functional),High,Test,Test,Both filenames contain the computed version string. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Compare computed `VERSION_STRING` against artifact filenames.,Screenshot or log of filename match check.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/actions/analyze-vi-package; scripts/analyze-vi-package/Analyze-VIP.ps1,.github/actions/analyze-vi-package; scripts/analyze-vi-package/Analyze-VIP.ps1,.github/workflows/ci.yml build and analysis steps,Derived from SRS line 145; draft-release workflow validates both artifact filenames contain computed version string.,Enforces artifact integrity before publish.,Risk: shipping corrupted artifacts; mitigations: analyze-vi-package gate and artifact checks.,Assumes VIPB/VIP artifacts produced in builds.,Runs in CI with access to built artifacts; no external writes beyond artifacts.,1 | hash=9c53561dd1f8 | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-034,9.4 Artifact Requirements & Validation,"If any required artifact is missing or pluralized, the workflow **shall fail** with an actionable diagnostic.",Functional/Performance,High,Test,Test,"Workflow fails when artifacts are missing/duplicated, with specific error code/message.",Simulate missing or pluralized artifacts by removing or duplicating files.Run the workflow to observe failure with actionable diagnostics.,Failure logs including diagnostic details.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/actions/analyze-vi-package; scripts/analyze-vi-package/Analyze-VIP.ps1,.github/actions/analyze-vi-package; scripts/analyze-vi-package/Analyze-VIP.ps1,.github/workflows/ci.yml build and analysis steps,Derived from SRS line 146; Locate-artifacts step fails with detailed counts and file list when required artifacts are missing or duplicated.,Enforces artifact integrity before publish.,Risk: shipping corrupted artifacts; mitigations: analyze-vi-package gate and artifact checks.,Assumes VIPB/VIP artifacts produced in builds.,Runs in CI with access to built artifacts; no external writes beyond artifacts.,1 | hash=ffef4ba64ce9 | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-040,9.5 Release Creation & Publishing,The workflow shall create a draft GitHub Release for the computed tag before any asset attachments.,Functional/Performance,High,Test,Test,"GET release by tag returns HTTP 200 with draft=true, prerelease == IS_PRERELEASE, and a non-empty id before assets are attached.",Run draft-release workflow; query release by tag; confirm draft=true and prerelease matches IS_PRERELEASE output before attachments.,"Release page/API response showing draft release ID, tag name, draft=true, prerelease flag.",Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/draft-release.yml release steps,.github/workflows/draft-release.yml release steps,Release publish path in .github/workflows/draft-release.yml; test-report artifacts,Derived from SRS line 152; draft-release workflow uses softprops/action-gh-release to create a draft release with .vip and release notes attached.,"Controls release creation, publication, and retry behavior to match policy.",Risk: mis-published releases or missing notes; mitigations: scripted flow and retries.,Assumes GitHub API availability and permissions.,Uses GITHUB_TOKEN; avoids destructive tag moves; publishes via release workflow only.,2 | hash=30bd2aa98680 | Split creation vs attachment 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-040B,9.5 Release Creation & Publishing,The workflow shall attach exactly one `.vip` package asset to the release for the computed tag.,Functional/Performance,High,Test,Test,"After uploads, release assets list contains exactly one .vip file whose name includes the computed VERSION_STRING; .vip asset count equals 1.",Run draft-release workflow; query release by tag after uploads; confirm draft creation already occurred and assets show one .vip.,Release asset list showing one .vip with version in the filename.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/draft-release.yml release steps,.github/workflows/draft-release.yml release steps,Release publish path in .github/workflows/draft-release.yml; test-report artifacts,Atomic split of release attachments: .vip asset attached once.,"Controls release creation, publication, and retry behavior to match policy.",Risk: mis-published releases or missing notes; mitigations: scripted flow and retries.,Assumes GitHub API availability and permissions.,Uses GITHUB_TOKEN; avoids destructive tag moves; publishes via release workflow only.,1 | hash=0959e4afaec7 | Added atomic requirement 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-040C,9.5 Release Creation & Publishing,The workflow shall attach exactly one release-notes Markdown file to the release for the computed tag.,Functional/Performance,High,Test,Test,"After uploads, release assets list contains exactly one release notes Markdown file (e.g., *_release_notes*.md) whose name includes the computed VERSION_STRING; count equals 1.",Run draft-release workflow; query release by tag after uploads; confirm draft creation already occurred and assets show one release-notes markdown.,Release asset list showing one release-notes markdown file with version in the filename.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/draft-release.yml release steps,.github/workflows/draft-release.yml release steps,Release publish path in .github/workflows/draft-release.yml; test-report artifacts,Atomic split of release attachments: release-notes asset attached once.,"Controls release creation, publication, and retry behavior to match policy.",Risk: mis-published releases or missing notes; mitigations: scripted flow and retries.,Assumes GitHub API availability and permissions.,Uses GITHUB_TOKEN; avoids destructive tag moves; publishes via release workflow only.,1 | hash=99bee08a3da8 | Added atomic requirement 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-041,9.5 Release Creation & Publishing,The GitHub Release **shall set** the **prerelease flag** according to `IS_PRERELEASE`.,Interface,High,Test,Test,Release `prerelease` flag matches computed `IS_PRERELEASE`. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Ensure `prerelease` flag in release object follows `IS_PRERELEASE`.Verify both true and false cases.,API response or UI screenshot for both cases.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/draft-release.yml release steps,.github/workflows/draft-release.yml release steps,Release publish path in .github/workflows/draft-release.yml; test-report artifacts,Derived from SRS line 153; Releases created/updated with prerelease flag set from IS_PRERELEASE output.,"Controls release creation, publication, and retry behavior to match policy.",Risk: mis-published releases or missing notes; mitigations: scripted flow and retries.,Assumes GitHub API availability and permissions.,Uses GITHUB_TOKEN; avoids destructive tag moves; publishes via release workflow only.,1 | hash=faaab2561bb9 | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-042,9.5 Release Creation & Publishing,"When a release with the computed tag already exists, the workflow **shall update** that release record rather than create a new one.",Functional/Performance,Medium,Test,Test,Existing release is updated in place; no duplicate release is created. Pass when observed failures = 0 and required events are captured in logs with timestamps.,"If a release with the computed tag exists, update it rather than creating a new one.","Release history showing updates, not new creation.",Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/draft-release.yml release steps,.github/workflows/draft-release.yml release steps,Release publish path in .github/workflows/draft-release.yml; test-report artifacts,"Derived from SRS line 154; Publish step reuses existing release if present, otherwise creates and updates the same release record (no duplicates).","Controls release creation, publication, and retry behavior to match policy.",Risk: mis-published releases or missing notes; mitigations: scripted flow and retries.,Assumes GitHub API availability and permissions.,Uses GITHUB_TOKEN; avoids destructive tag moves; publishes via release workflow only.,1 | hash=10e0268eebf3 | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-043,9.5 Release Creation & Publishing,"Upon successful validation, the workflow shall publish the existing draft release (draft=false) for the computed tag.",Functional/Performance,High,Test,Test,"After publish step, release API shows draft=false and a published_at timestamp (ISO 8601) for the computed tag.",Run workflow through publish step; query release by tag; confirm draft=false and published_at present.,"Release API/URL showing draft=false, published_at timestamp, tag name.",Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/draft-release.yml release steps,.github/workflows/draft-release.yml release steps,Release publish path in .github/workflows/draft-release.yml; test-report artifacts,"Derived from SRS line 155; draft-release publish step updates existing release, sets draft=false, make_latest=true, and respects prerelease flag.","Controls release creation, publication, and retry behavior to match policy.",Risk: mis-published releases or missing notes; mitigations: scripted flow and retries.,Assumes GitHub API availability and permissions.,Uses GITHUB_TOKEN; avoids destructive tag moves; publishes via release workflow only.,2 | hash=e930624d11ef | Split publish vs latest flag 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-043B,9.5 Release Creation & Publishing,"When publishing, the workflow shall set the release make_latest flag according to repository policy (latest or legacy).",Functional/Performance,High,Test,Test,Release API response after publish shows make_latest exactly equal to configured value (`true` or `legacy`); field is present and matches input.,Run workflow through publish step; query release by tag; confirm draft=false and published_at present.,Release API/URL showing make_latest value post-publish.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/draft-release.yml release steps,.github/workflows/draft-release.yml release steps,Release publish path in .github/workflows/draft-release.yml; test-report artifacts,Atomic split of publish semantics: make_latest flag recorded per policy.,"Controls release creation, publication, and retry behavior to match policy.",Risk: mis-published releases or missing notes; mitigations: scripted flow and retries.,Assumes GitHub API availability and permissions.,Uses GITHUB_TOKEN; avoids destructive tag moves; publishes via release workflow only.,1 | hash=4954aa5c9518 | Added atomic requirement 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-044,9.5 Release Creation & Publishing,All operations **shall authenticate** using `GITHUB_TOKEN` with `contents: write`.,Interface,High,"Inspection, Test",Inspection,`GITHUB_TOKEN` scopes allow required operations. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Confirm `GITHUB_TOKEN` permissions include `contents: write`.Attempt an operation requiring those permissions and confirm success.,Permission settings and successful API call logs.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/draft-release.yml release steps,.github/workflows/draft-release.yml release steps,Release publish path in .github/workflows/draft-release.yml; test-report artifacts,Derived from SRS line 156; Workflow/job permissions grant contents: write and all release/tag operations use GITHUB_TOKEN.,"Controls release creation, publication, and retry behavior to match policy.",Risk: mis-published releases or missing notes; mitigations: scripted flow and retries.,Assumes GitHub API availability and permissions.,Uses GITHUB_TOKEN; avoids destructive tag moves; publishes via release workflow only.,1 | hash=9c3dab5fdc5e | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
TRW-050,"9.6 Error Handling, Retries & Robustness","Tag push operations shall retry exactly 3 times after an initial failure with a 5s +/-1s back-off between attempts, logging retry_n, timestamp, and exception; after the third failed attempt the run shall exit with code E-TAG-RETRY without moving remote refs.",Quality (non-functional),Medium,Test,Test,"On transient failure, tag push attempts total = 3 with inter-attempt deltas in [4s,6s]; logs show retry_n/timestamp/exception; success if any attempt succeeds; if all fail, exit code E-TAG-RETRY and no ref updates.",Attempt to push tag with a simulated transient error and verify retry mechanism (e.g., mock failure or use retryable command).,Automation QA (Agent),Build/Release,Draft,2025-11-20,.github/workflows/draft-release.yml retry/backoff logic,.github/workflows/draft-release.yml retry/backoff logic,.github/workflows/draft-release.yml retry/backoff logic,See Evidence to Collect for data source details.,.github/workflows/draft-release.yml retry/backoff logic,Logs and retry loops in .github/workflows/draft-release.yml,Derived from SRS line 162; Tag creation step retries push 3 times with 5s backoff before failing.,"Adds resilience for transient failures (network, API).",2 | hash=d7bdd7da04ef | Wording update 2025-11-29,"Demonstration/Test: witness QA reviewer; facility GitHub Actions or devcontainer; equipment workflow logs showing retry_n timestamps, back-off intervals, and exit code E-TAG-RETRY; pass per acceptance criteria.",System
TRW-051,"9.6 Error Handling, Retries & Robustness","Release API operations shall create the release on 404, and on any other HTTP error shall exit non-zero with diagnostic fields (code=E-REL-<HTTP>, detection_point=publish, cause=<summary>, remediation=<next-step>) and perform no tag/release mutation.",Quality (non-functional),High,Test,Test,404 triggers creation path; non-404 returns exit!=0 with diagnostic fields present and no release/tag changes.,Invoke release API to fetch by tag; if 404, create release; inject a non-404 error and verify exit code/diagnostic and that no refs/releases change.,Automation QA (Agent),Build/Release,Draft,2025-11-20,.github/workflows/draft-release.yml release API handling,.github/workflows/draft-release.yml release API handling,.github/workflows/draft-release.yml release API handling,See Evidence to Collect for data source details.,Derived from SRS line 163; Publish step handles 404 by creating release and surfaces other errors with bounded, non-destructive failure.,"Adds resilience for transient failures (network, API).",Risk: flaky runs cause partial releases; mitigations: bounded retries/backoff and fail-fast rules.,2 | hash=c887e967d511 | Wording update 2025-11-29,Demonstration/Test: witness QA reviewer; facility GitHub Actions or devcontainer; equipment API logs showing 404 create path and non-404 diagnostics with no tag/release mutation; pass per acceptance criteria.,System
TRW-052,"9.6 Error Handling, Retries & Robustness",The workflow shall be non-destructive with respect to existing tags; do not move existing tag references.,Quality (non-functional),High,"Inspection, Test",Inspection,Existing tags are never moved automatically. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Create an existing tag and attempt to move it; verify the workflow refuses to force-update.,Git command logs; tag ref remains unchanged.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/draft-release.yml retry/backoff logic,.github/workflows/draft-release.yml retry/backoff logic,Logs and retry loops in .github/workflows/draft-release.yml,"Derived from SRS line 164; draft-release workflow refuses to move existing tags (fails on conflict, never force-updates).","Adds resilience for transient failures (network, API).",Risk: flaky runs cause partial releases; mitigations: bounded retries/backoff and fail-fast rules.,Assumes GitHub Actions retry/backoff semantics and idempotent steps.,Retries bounded; no infinite loops; uses workflow-run context only.,2 | hash=dead1643a0a2 | Wording update to satisfy 29148 language lint on 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
TRW-053,"9.6 Error Handling, Retries & Robustness","Re‑runs of the workflow for the same commit and computed version **shall be idempotent**, producing no duplicate tags or releases and no conflicting state.",Quality (non-functional),High,Test,Test,No duplicate tags/releases are created on re-runs; operations are idempotent. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Re-run the workflow for the same commit and inputs twice.,Run history and resulting refs/releases (no duplicates).,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/draft-release.yml retry/backoff logic,.github/workflows/draft-release.yml retry/backoff logic,Logs and retry loops in .github/workflows/draft-release.yml,"Derived from SRS line 165; draft-release workflow skips existing same-commit tags and upserts releases, preventing duplicates on reruns.","Adds resilience for transient failures (network, API).",Risk: flaky runs cause partial releases; mitigations: bounded retries/backoff and fail-fast rules.,Assumes GitHub Actions retry/backoff semantics and idempotent steps.,Retries bounded; no infinite loops; uses workflow-run context only.,1 | hash=6cca8f4a65e9 | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TRW-060,9.7 Observability & Logging,"The workflow **shall log** at start: commit SHA, head branch, upstream `workflow_run` ID, computed `VERSION_STRING`.",Usability/Quality-in-Use,Medium,"Inspection, Demonstration",Inspection,All required context fields are logged in a structured way. Pass when observed failures = 0 and required events are captured in logs with timestamps.,"Check logs include commit SHA, branch, workflow_run ID, and version string.",Log excerpts with the four fields present.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/draft-release.yml logging and summaries,.github/workflows/draft-release.yml logging and summaries,GITHUB_STEP_SUMMARY outputs and uploaded artifacts,"Derived from SRS line 171; draft-release logs commit, branch, workflow_run ID, and version via context logging step.",Provides traceable evidence and debugging for release pipeline.,Risk: missing logs hinder audits; mitigation: required uploads and summaries.,Assumes artifact upload succeeds and summaries supported on runner.,Keep logs non-sensitive; store under reports/ and artifacts/.,1 | hash=6d11372a8e13 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
TRW-061,9.7 Observability & Logging,"The workflow **shall log** decision outcomes: bump type, suffix rule applied, tag existence outcome, artifact discovery results.",Usability/Quality-in-Use,Medium,"Inspection, Demonstration",Inspection,Each decision point emits a structured log entry. Pass when observed failures = 0 and required events are captured in logs with timestamps.,"Confirm decision logs for bump, suffix rules, tag existence, and artifact discovery.",Collected log entries covering all decision items.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/draft-release.yml logging and summaries,.github/workflows/draft-release.yml logging and summaries,GITHUB_STEP_SUMMARY outputs and uploaded artifacts,"Derived from SRS line 172; Workflow logs bump type, suffix application, tag existence outcome, and artifact discovery decisions.",Provides traceable evidence and debugging for release pipeline.,Risk: missing logs hinder audits; mitigation: required uploads and summaries.,Assumes artifact upload succeeds and summaries supported on runner.,Keep logs non-sensitive; store under reports/ and artifacts/.,1 | hash=70710e4dd10f | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
TRW-062,9.7 Observability & Logging,"All failure conditions **shall include** actionable diagnostics indicating detection point, probable cause, and remediation guidance.",Process,High,Inspection,Inspection,"Failures include actionable diagnostics (errors, causes, next steps). Pass when observed failures = 0 and required events are captured in logs with timestamps.",Induce a few failure modes and check that detailed diagnostics are emitted.,Failure logs for representative cases.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/draft-release.yml logging and summaries,.github/workflows/draft-release.yml logging and summaries,GITHUB_STEP_SUMMARY outputs and uploaded artifacts,"Derived from SRS line 173; Failure paths emit actionable diagnostics with detection point, cause, and remediation (tag conflicts, push retries, artifact validation).",Provides traceable evidence and debugging for release pipeline.,Risk: missing logs hinder audits; mitigation: required uploads and summaries.,Assumes artifact upload succeeds and summaries supported on runner.,Keep logs non-sensitive; store under reports/ and artifacts/.,1 | hash=97580878728e | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
TRW-070,9.8 Efficiency & Runner Behavior,The workflow **shall perform a single repository checkout** per job.,Process,Medium,Inspection,Inspection,Only one checkout step is present. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Ensure repository uses a single `actions/checkout` per job.,Workflow YAML highlighting checkout usage.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/ci.yml runner selection and caching,.github/workflows/ci.yml runner selection and caching,CI jobs enforcing runner OS guards and concurrency,Derived from SRS line 179; draft-release job performs a single actions/checkout step.,Protects runner availability and cost while ensuring correct platform.,Risk: wrong runner or duplicate work increases cost/time; mitigations: concurrency groups and OS guards.,Assumes self-hosted Windows LV runner and GitHub-hosted Linux available.,Uses defined runner labels; avoids cross-OS steps.,1 | hash=f62806cf9aa8 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
TRW-071,9.8 Efficiency & Runner Behavior,The workflow **shall ensure full Git history** is available for tag reachability and commit counting.,Process,High,"Inspection, Test",Inspection,Full git history is available to the job. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Verify `fetch-depth: 0` or equivalent full-history fetch is configured.,Checkout step config and `git rev-list` depth proof.,Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/ci.yml runner selection and caching,.github/workflows/ci.yml runner selection and caching,CI jobs enforcing runner OS guards and concurrency,Derived from SRS line 180; draft-release checkout uses fetch-depth: 0 for full history to support reachability and commit counting.,Protects runner availability and cost while ensuring correct platform.,Risk: wrong runner or duplicate work increases cost/time; mitigations: concurrency groups and OS guards.,Assumes self-hosted Windows LV runner and GitHub-hosted Linux available.,Uses defined runner labels; avoids cross-OS steps.,1 | hash=685f67feae0a | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
TRW-072,9.8 Efficiency & Runner Behavior,The workflow **shall not leave persistent configuration side effects** on self‑hosted runners (no global git config mutations beyond the job scope).,Process,High,Inspection,Inspection,Runner state is clean post-run (no orphaned files/tokens/config). Pass when observed failures = 0 and required events are captured in logs with timestamps.,Run on a self-hosted runner and verify no persistent configuration side effects remain after completion.,"Before/after runner state diff, cleanup logs.",Automation QA (Agent),CI Integration,Completed,2025-11-20,.github/workflows/ci.yml runner selection and caching,.github/workflows/ci.yml runner selection and caching,CI jobs enforcing runner OS guards and concurrency,Derived from SRS line 181; Workflow uses local git config only; no global/persistent state changes on runners.,Protects runner availability and cost while ensuring correct platform.,Risk: wrong runner or duplicate work increases cost/time; mitigations: concurrency groups and OS guards.,Assumes self-hosted Windows LV runner and GitHub-hosted Linux available.,Uses defined runner labels; avoids cross-OS steps.,1 | hash=949cf7176b78 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
LOG-001,9.13 Log Stash,Log bundles shall be written under `builds/log-stash/<commit>/<category>/<timestamp>-<label>/` and include a `manifest.json` plus copied log files from `builds/logs/`.,Functional/Performance,High,"Inspection, Test",Inspection,"Bundle directory exists with manifest.json and at least one log file copied from source paths; bundle path contains commit, category, and timestamp-label.",Run a producer (or helper) with a sample log path; verify bundle folder naming; confirm manifest and log presence.,Bundle path listing and manifest snippet showing type=log; log file content or name.,Automation QA (Agent),Build/Release,Draft,2025-11-27,ADR-2025-010-log-stash,ADR-2025-010-log-stash,docs/ci/log-stash-design.md,Applies to build/test/VIPM/devmode/analyzer producers wired to the helper.,Standardizes log capture for traceability and artifact upload.,Risk: missing bundle breaks CI evidence; mitigation via shared helper.,Assumes commit key resolved; falls back to manual when git absent.,Layout is relative to repo root; source logs remain in builds/logs.,2 | hash=7b7343743ef2 | Wording update 2025-11-29,Inspection: witness QA reviewer; facility devcontainer or CI; equipment bundle path listing and manifest referencing docs/ci/log-stash-design.md; cite docs/ci/log-stash-design.md.,System
LOG-002,9.13 Log Stash,"Each bundle manifest shall record category, commit, status, LabVIEW version (when known), bitness list (when known), producer script, start timestamp, and file paths for logs/attachments/bundle.",Interface,High,Inspection,Inspection,"Manifest JSON includes keys category, commit, status, producer, start_timestamp, files.logs, files.attachments, and files.bundle; all file paths are relative to builds/log-stash and exist on disk; failure occurs if any required key is missing/empty or if any path is absolute/nonexistent.",Generate a bundle via helper; inspect manifest keys/values; confirm relative paths resolve within repo.,Manifest JSON excerpt; resolved relative path check results.,Automation QA (Agent),Build/Release,Draft,2025-11-27,ADR-2025-010-log-stash,ADR-2025-010-log-stash,docs/ci/log-stash-design.md,"Required fields may be null/omitted only when data is unavailable (e.g., labview_version on non-LV runs).",Enables deterministic artifact linking and audit metadata.,Risk: incomplete metadata reduces traceability; mitigated by helper defaults.,Assumes producer passes known fields; helper fills commit/start time.,Relative paths only; no external locations.,2 | hash=d8b30e2b3e2c | Wording update 2025-11-29,Inspection: witness QA reviewer; facility devcontainer or CI; equipment manifest JSON excerpt with required fields referencing docs/ci/log-stash-design.md; cite docs/ci/log-stash-design.md.,System
LOG-003,9.13 Log Stash,"A cleanup routine shall prune stash bundles beyond configurable limits (count per category, max age) unless retention is explicitly disabled.",Process,Medium,Test,Test,"With retention limit=1 per category and seeded with >=2 bundles in a category, cleanup deletes all but the newest bundle for that category and leaves the newest untouched; with retention opt-out enabled, running cleanup results in zero deletions (before/after bundle counts match).",Seed stash with >N bundles; run scripts/log-stash/Cleanup-LogStash.ps1 with low retention limits; verify expected deletions; rerun with opt-out flag/var and confirm no change.,Before/after listings showing deletions and preserved bundles; cleanup log output (reports/logs/log-stash-cleanup-20251128180150.log).,Automation QA (Agent),Build/Release,Accepted,2025-11-29,scripts/log-stash/Cleanup-LogStash.ps1,ADR-2025-010-log-stash,docs/ci/log-stash-design.md,reports/logs/log-stash-cleanup-20251128180150.log records removal of builds/log-stash/d0c1763/compare/20251128-173209-vi-history while keeping the newer 9aadb4e bundle.,docs/ci/log-stash-design.md,Risk: accidental deletion of needed logs; mitigated by defaults and opt-out.,"Cleanup runs are scheduled after artifact upload, and retention thresholds are configurable in scripts/log-stash/Cleanup-LogStash.ps1.",Constrained to the log-stash root; respects opt-out flag to keep all bundles.,2 | hash=7c86634ee460 | Wording update 2025-11-29,"Verification: run scripts/log-stash/Cleanup-LogStash.ps1 with thresholds that drop at least one older bundle, capture reports/logs/log-stash-cleanup-20251128180150.log, and compare index snapshots before/after to ensure only the targeted bundles change.",System
LOG-004,9.13 Log Stash,"The stash index (`builds/log-stash/index.json`) shall be updated per bundle, trimming to the most recent N entries (default 50) and pointing to relative bundle paths.",Interface,Medium,Inspection,Inspection,"After creating more than N bundles then running cleanup with N=2, the index length is <=2, entries are ordered newest-first by timestamp, and all listed bundle paths are relative and resolve to existing bundle directories.",Create multiple bundles (>N); inspect builds/log-stash/index.json after each run; confirm the index lists bundles newest first and retains at most the configured N entries.,"Index JSON excerpt showing capped length, newest entries, and relative bundle paths after cleanup runs (builds/log-stash/index.json).",Automation QA (Agent),Build/Release,Accepted,2025-11-29,builds/log-stash/index.json,ADR-2025-010-log-stash,docs/ci/log-stash-design.md,builds/log-stash/index.json now lists the trimmed entries (top newest bundles) and the log-stash cleanup log (`reports/logs/log-stash-cleanup-20251128180150.log`) documents the removal that kept only the newest entries.,ADR-2025-010-log-stash,Risk: stale index misroutes links; mitigated by helper writing after each bundle.,Index updates assume the helper is invoked after each bundle and trimming obeys configured count limits.,Trimming is limited to builds/log-stash/index.json and references valid relative bundle paths.,2 | hash=ade56a1a6d16 | Wording update 2025-11-29,Verification: compare builds/log-stash/index.json before and after cleanup runs to ensure newest bundles are first and the total entry count reflects the configured maximum; log-stash cleanup logs should correlate removed bundles.,System
COMP-001,9.14 VI Compare,"Each compare run shall emit `session-index.json` with schema `teststand-compare-session/v1`, an ISO8601 timestamp, run status (`success|failed|dry-run`), and a human-readable reason when not `success`.",Interface,High,Inspection,Inspection,"File exists, schema id matches, status present, timestamp ISO8601, reason present for non-success.","Run `pwsh scripts/common/invoke-repo-cli.ps1 -CliName XCli -RepoRoot . -Args @('vi-compare-run','--request','configs/vi-compare-run-request.sample.json')` (task 09), then inspect the resulting log-stash bundle `builds/log-stash/.../compare/.../attachments/session-index.json` for schema/timestamp/status/reason fields.","session-index.json shows schema `teststand-compare-session/v1`, an ISO8601 `at` timestamp, a `status` entry, and when not success a `reason`; artifact is stored alongside the log-stash bundle produced by reports/logs/vi-history-task-bundle-20251128173052.log.",Automation QA (Agent),Build/Release,Accepted,2025-11-29,reports/logs/vi-history-task-bundle-20251128173052.log,Dry-run example in .tmp-tests/vi-compare-replays/codex-test/captures/pair-001,Integration engine compare capture shall be traceable.,session-index JSON from Task 09 contains the required metadata and is attached to builds/log-stash/9aadb4e/compare/20251128-175521-vi-history.,Risk: missing status obscures failures; mitigated by gating in CI.,Assumes compare step writes captures.,Paths relative to repo.,1 | added 2025-11-27,3 | hash=daef38c313d5 | Helper-based procedure update 2025-11-30,"Verification: open session-index.json after the compare run to confirm schema/teststand-compare-session/v1, ISO8601 timestamp, status, and reason fields are present; ensure the log-stash manifest attaches the file.",System
COMP-002,9.14 VI Compare,"Each compare run shall emit `lvcompare-capture.json` with schema `labview-cli-capture@v1`, recording status, timestamp, and when executed the LVCompare/LabVIEWCLI command context (exit code, stderr/summary snippet).",Interface,High,Inspection,Inspection,"File exists with schema, status, timestamp; when not dry-run, includes exit code/command context.",Run the same Task 09 command and inspect `builds/log-stash/9aadb4e/compare/20251128-175521-vi-history/attachments/lvcompare-capture.json` for schema/status/timestamp/command-context fields.,"lvcompare-capture.json lists schema `labview-cli-capture@v1`, a timestamp, status, and reason when the LV CLI is skipped; the file is stored alongside the bundle verified by reports/logs/vi-history-task-bundle-20251128173052.log.",Automation QA (Agent),Build/Release,Accepted,2025-11-29,reports/logs/vi-history-task-bundle-20251128173052.log,Dry-run example in .tmp-tests/vi-compare-replays/codex-test/captures/pair-001,Provides CLI trace for compare runs.,"lvcompare-capture JSON attests to the CLI context (schema, timing, dry-run reason) and is stored with the compare bundle attachments.",Risk: missing CLI context blocks debugging; mitigated by schema check.,Assumes LV CLI available for real runs.,Relative paths for portability.,1 | added 2025-11-27,2 | hash=b3126fd87d39 | Wording update 2025-11-29,"Verification: open lvcompare-capture.json after the compare run to confirm schema, status, timestamp, and reason fields, then verify the manifest points to the attachment.",System
COMP-003,9.14 VI Compare,Each compare run shall produce a human-readable report (`compare-report.html` or `.txt`) summarizing the result; dry-run shall still emit the report stating CLI execution was skipped.,Functional/Performance,Medium,Inspection,Inspection,"compare-report.html (or .txt) exists under bundle attachments with size >0 and contains status text (e.g., ""Dry-run mode"" on dry-run or a Status line on real runs); fail if file is missing, empty, or lacks a status indicator.",Use Task 09 to produce the sample compare output and open `builds/log-stash/9aadb4e/compare/20251128-175521-vi-history/attachments/compare-report.html` to confirm a human-readable summary describing the dry-run status.,"compare-report.html contains a plain-language summary (e.g., `Dry-run mode: LabVIEW CLI execution skipped.`) and is packaged in the same bundle; both the report and the bundle log are in reports/logs/vi-history-task-bundle-20251128173052.log.",Automation QA (Agent),Build/Release,Accepted,2025-11-29,reports/logs/vi-history-task-bundle-20251128173052.log,Dry-run example in .tmp-tests/vi-compare-replays/codex-test/captures/pair-001,Dry-run example in .tmp-tests/vi-compare-replays/codex-test/captures/pair-001,The report file generated during the dry-run expresses the skipped execution reason and is attached to the log-stash bundle for traceability.,Ensures readable output even when skipping execution.,Risk: missing report reduces traceability; mitigated by wrapper enforcement.,Assumes output directory is writable.,Relative paths.,2 | hash=fc0fc80e6bdb | Wording update 2025-11-29,Verification: open compare-report.html after the run to confirm it summarizes the dry-run outcome and that the manifest lists it as an attachment.,System
COMP-004,9.14 VI Compare,"Compare artifacts shall be stored under `.tmp-tests/vi-compare-replays/<label>/captures/<pair>/` (or equivalent), keeping `session-index.json`, `lvcompare-capture.json`, and report together with relative paths.",Process,Medium,Inspection,Inspection,"Capture directory `.tmp-tests/vi-compare-replays/<label>/captures/<pair>/` exists and contains exactly three files: session-index.json, lvcompare-capture.json, compare-report.html; manifest attachments list the same three relative paths and each path resolves on disk; fail if any file or manifest entry is missing or non-resolving.","Inspect `.tmp-tests/vi-compare-replays/sample/captures/pair-001` and the bundled attachments directory to confirm `session-index.json`, `lvcompare-capture.json`, and `compare-report.html` are co-located under the compare capture paths produced by Task 09.",Directory listings show all three files under `.tmp-tests/vi-compare-replays/sample/captures/pair-001` and the log-stash bundle attachments folder; their relative paths are captured in builds/log-stash/9aadb4e/compare/20251128-175521-vi-history/manifest.json.,Automation QA (Agent),Build/Release,Accepted,2025-11-29,reports/logs/vi-history-task-bundle-20251128173052.log,Dry-run example in .tmp-tests/vi-compare-replays/codex-test/captures/pair-001,Standardizes capture layout.,"Captures and log-stash attachments live together for pair-001, satisfying the layout requirement for the compare artifacts.",Risk: scattered files break tooling; mitigated by layout enforcement.,Assumes compare wrapper writes to this structure.,Relative layout.,1 | added 2025-11-27,2 | hash=3207f34da342 | Wording update 2025-11-29,Verification: list the capture directory tree and the bundle attachments to confirm the three files stay together with relative paths recorded in the manifest.,System
COMP-005,9.14 VI Compare,"Each compare run shall create a log-stash bundle (category `compare` or `analyzer`) attaching `session-index.json`, `lvcompare-capture.json`, and the report, with manifest metadata (commit, status, timestamp, producer).",Interface,High,Test,Inspection,"Bundle under builds/log-stash/<commit>/<category>/... contains manifest with non-empty fields category, commit, status, timestamp, producer and exactly three attachments (session-index.json, lvcompare-capture.json, compare-report.html) whose relative paths resolve to existing files; fail if any field empty, attachment missing, or path does not exist.","Run Task 09, publish the session/capture/report artifacts via scripts/log-stash/Write-LogStashEntry.ps1, and inspect builds/log-stash/9aadb4e/compare/20251128-175521-vi-history/manifest.json for the attachments listed under `files.attachments`.",The manifest name `20251128-175521-vi-history` plus its attachments ensure each compare run produces a log-stash bundle; helper log reports/logs/vi-history-task-bundle-20251128173052.log confirms the bundle path.,Automation QA (Agent),Build/Release,Accepted,2025-11-29,reports/logs/vi-history-task-bundle-20251128173052.log,ADR-2025-010-log-stash,Aligns compare capture with log-stash for CI uploads.,"Manifest excerpt shows the compare category, commit, and bundle path along with the required attachments (session-index, lvcompare-capture, compare-report).",Risk: missing bundle hides compare evidence; mitigated by CI checks.,Assumes log-stash helper available.,Relative paths.,1 | added 2025-11-27,2 | hash=65ba77a1d6f1 | Wording update 2025-11-29,"Verification: review the manifest to confirm category `compare`, the commit key, and attachment list match the files produced by the compare run and that the helper log references the bundle path.",System
COMP-006,9.14 VI Compare,"When `-DryRun` (or missing LV CLI), the compare run shall complete with status `dry-run`, skip external LVCompare invocation, and still emit `session-index.json`, `lvcompare-capture.json`, and report.",Functional/Performance,Medium,Test,Test,"Dry-run execution exits 0; session-index.json and lvcompare-capture.json both have status=""dry-run"" with a reason string; compare-report states CLI execution was skipped; no LVCompare/LabVIEWCLI logs are produced.","Run Task 09 without LabVIEW (dry-run mode) and confirm `session-index.json` and `lvcompare-capture.json` both record `status=""dry-run""` and the accompanying reason message in the Task 09 bundle.","The stored JSON files list `status=""dry-run""`, capture the `reason` `Dry-run mode: LabVIEW CLI execution skipped.`, and the manifest plus log (reports/logs/vi-history-task-bundle-20251128173052.log) reference them.",Automation QA (Agent),Build/Release,Accepted,2025-11-29,reports/logs/vi-history-task-bundle-20251128173052.log,Dry-run example in .tmp-tests/vi-compare-replays/codex-test/captures/pair-001,Maintains evidence even without CLI.,Dry-run status entries prove the compare run succeeded in `dry-run` mode without invoking LV CLI and the files are archived in the bundle.,Risk: accidentally shipping dry-run; mitigated by status logging.,Assumes wrapper handles dry-run flag.,Relative paths.,1 | added 2025-11-27,2 | hash=6a953d8f16eb | Wording update 2025-11-29,"Verification: inspect both session-index.json and lvcompare-capture.json to confirm `status=""dry-run""` and the human-readable dry-run reason; ensure the log-stash record references them.",System
COMP-007,9.14 VI Compare,"On non-dry-run runs, a non-zero LVCompare/CLI exit or detected differences shall set status `failed` in capture files and fail the Integration Engine step unless explicitly marked optional.",Functional/Performance,High,Test,Test,Run `scripts/vi-compare/run-vi-history-suite.ps1` (or `scripts/vi-compare/RunViCompareReplay.ps1 -RequestPath configs/vi-compare-run-request.failure.json`) to replay the failure scenario; inspect `reports/logs/vi-history-failure-run-20251128181658.log` for `[compare] Status: failed` and confirm `session-index.json`/`lvcompare-capture.json` record `status=failed`.,Manifest `builds/log-stash/9aadb4e/compare/20251128-181658-vi-history-failure/manifest.json` plus its attachments showing `status=failed` capture files and the failure log entry.,Run log,Automation QA (Agent),Build/Release,Accepted,2025-11-29,reports/logs/vi-history-failure-run-20251128181658.log,scripts/vi-compare/RunViCompareReplay.ps1,builds/log-stash/9aadb4e/compare/20251128-181658-vi-history-failure/manifest.json,Prevents silent failures in compare gating (failure run manifest and log share the missing LV CLI reason).,Ensures failures block builds unless opted out.,Risk: false positives halt builds; mitigation: optional flag bypass recorded in script output.,Assumes managed step plumbs failure results through the helper.,Relative paths.,2 | hash=c0e6f75a2f26 | Wording update 2025-11-29,Test: witness QA reviewer; facility devcontainer or CI with LVCompare; equipment failure-run logs plus session-index/lvcompare-capture showing status=failed; pass per acceptance criteria.,System
COMP-008,9.14 VI Compare,"Integration Engine managed mode shall accept a compare request file (e.g., `configs/vi-compare-run-request.sample.json`) and a dry-run toggle, with defaults documented in CLI help.",Interface,Medium,Inspection,Inspection,"`x-cli --help` (or command help) lists `--request` and a dry-run option; running with the sample request JSON exits 0 and logs parsed defaults (e.g., dryRun=false); fail if options absent or sample JSON run returns non-zero or missing defaults log.",Review `Tooling/x-cli/src/XCli/ViCompare/ViCompareRunCommand.cs` to see that `--request PATH` is required and that the `RunRequest` class exposes `DryRun` (and other toggles); use `configs/vi-compare-run-request.sample.json` to demonstrate how the JSON payload controls both `dryRun` and `skipBundle` behavior.,"Source code documents the `--request` argument plus the `DryRun` property, and the sample request JSON includes a `dryRun` bool entry; this file is consumed during Task 09 to configure the compare run.",Automation QA (Agent),Build/Release,Accepted,2025-11-29,Tooling/x-cli/src/XCli/ViCompare/ViCompareRunCommand.cs; configs/vi-compare-run-request.sample.json,Integration engine CLI design,Exposes compare control to users/CI.,RunRequest deserialization covers repoRoot/scenarioPath/outputRoot/labVIEWExePath and exposes the `dryRun` flag; the sample JSON demonstrates setting `dryRun` and `skipBundle` before running Task 09.,Risk: hidden defaults cause confusion; mitigated by help text.,Assumes CLI wiring.,Relative paths.,1 | added 2025-11-27,2 | hash=99ec89d13985 | Wording update 2025-11-29,Verification: inspect the RunRequest type for the DryRun property and confirm the sample JSON includes a `dryRun` entry that the task uses before executing the compare scenario.,System
COMP-009,9.14 VI Compare,CI workflows shall upload compare artifacts/log-stash bundles when compare is enabled; absence when enabled shall fail the job.,Process,High,Test,Test,"CI job includes artifact upload step; when compare runs, artifacts present; missing artifacts cause failure.","Check workflow YAML; run VS Code task 09 (x-cli vi-compare-run) or scripts/vi-compare/RunViCompareReplay.ps1 (dry-run) for the sample scenario; capture the session/capture/report files, feed them to scripts/log-stash/Write-LogStashEntry.ps1, and ensure the helper logs `[artifact][log-stash] Bundle` pointing to a `builds/log-stash/<commit>/compare/...` bundle (for example `builds/log-stash/d0c1763/compare/20251128-173209-vi-history`).",reports/logs/log-stash-vi-history-20251128173209.log; builds/log-stash/d0c1763/compare/20251128-173209-vi-history/manifest.json,Automation QA (Agent),Build/Release,Accepted,2025-11-28,scripts/vi-compare/RunViCompareReplay.ps1; scripts/log-stash/Write-LogStashEntry.ps1,CI workflow updates,CI workflow updates,Ensures evidence retention in CI.,Prevents silent skips in compare gate.,Risk: oversized artifacts; mitigated by zipping.,Assumes compare enabled in job.,Relative paths.,2 | hash=cb80ca700ba3 | Wording update 2025-11-29,Inspection: witness QA reviewer; facility devcontainer or CI; equipment log-stash manifest and helper output citing the bundle path from evidence; pass per acceptance criteria.,System
COMP-010,9.14 VI Compare,"When compare is disabled/not configured, Integration Engine shall skip the step and log a clear no-op without producing partial captures.",Process,Medium,Inspection,Inspection,Run `scripts/vi-compare/run-vi-history-suite.ps1` (or `scripts/vi-compare/RunViCompareReplay.ps1 -RequestPath configs/vi-compare-run-request.disabled.json`) to exercise the disabled/dry-run scenario; confirm `reports/logs/vi-history-disabled-run-20251128181709.log` logs `[compare] Status: dry-run` and the manifest references attachments marked `status=dry-run` with the CLI-skipped reason.,Manifest `builds/log-stash/9aadb4e/compare/20251128-181710-vi-history-disabled/manifest.json` shows dry-run attachments and no LV CLI outputs; the log captures the dry-run no-op message.,Log excerpt showing no-op.,Automation QA (Agent),Build/Release,Accepted,2025-11-29,reports/logs/vi-history-disabled-run-20251128181709.log,scripts/vi-compare/RunViCompareReplay.ps1,builds/log-stash/9aadb4e/compare/20251128-181710-vi-history-disabled/manifest.json,Avoids confusing partial outputs when compare is intentionally disabled; the bundle records the dry-run message.,Risk: silent skips when expected; mitigated by explicit log.,Assumes feature gating marks the step as dry-run and no LV CLI artifacts exist.,Relative paths.,1 | added 2025-11-27; accepted 2025-11-29 after capturing the dry-run/no-op manifest.,2 | hash=3655a9d0eb0c | Wording update 2025-11-29,Inspection: witness QA reviewer; facility devcontainer or CI; equipment workflow logs and .github/workflows/draft-release.yml excerpt showing no-op path with no tags/releases; pass per acceptance criteria.,System
CLA-001,9.9 CLA Policy & Access Control,The organization shall maintain a single `cla-manifest` repository as the authoritative source of CLA status.,Process,High,"Inspection, Analysis",Inspection,"Repo cla-manifest exists (git ls-remote or API 200) and manifest.json contains keys github, cla_type, cla_version, signed_on, status, evidence_ref validated against schema.",Locate the org-level cla-manifest repository; inspect manifest.json; confirm a sample of contributor entries contains the required keys.,Link to cla-manifest repository; manifest.json excerpt showing required keys; governance doc naming it as canonical.,Org Governance / Automation QA,Org Governance,Planned,2025-11-23,ADR-2025-002-CLA-001,ADR-2025-002-CLA-001,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-001; centralizes CLA status for all repos.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,2 | hash=fa72bcc70677 | Wording update to satisfy 29148 language lint on 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-002,9.9 CLA Policy & Access Control,The reusable `cla-gate` workflow **shall validate** each pull request by checking the PR author and all non-bot commit authors against the CLA manifest and **shall fail** when any required entry is missing or not active.,Process,High,"Inspection, Test",Test,"When PR author and all non-bot commit authors have active manifest entries, the CLA gate passes; otherwise it fails with clear diagnostics. Pass when observed failures = 0 and required events are captured in logs with timestamps.",Open a PR where all authors are present and active in the manifest and observe `cla-gate` success; open another where at least one author is missing or revoked and observe a failing `cla-gate` check with explicit messages.,CI logs from `cla-gate` runs for passing and failing scenarios; manifest excerpts for tested users.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-002,ADR-2025-002-CLA-002,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-002; ensures CLA eligibility is enforced per PR author and commit authors.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=10a3947ba453 | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
CLA-003,9.9 CLA Policy & Access Control,"Repositories adopting the org-level CLA policy **shall invoke** the `cla-gate` workflow on pull requests targeting protected branches (for example, `main`, `develop`, `release/*`, and `feature/*`).",Process,High,Inspection,Inspection,Participating repositories include a CLA gate job in CI that runs on pull requests to protected branches. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Inspect `.github/workflows` in this and a sample of other repos to confirm they call the reusable `cla-gate` workflow for pull_request events on protected branches.,Workflow YAML snippets showing `cla-gate` invocation on PRs targeting protected branches.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-003,ADR-2025-002-CLA-003,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-003; ensures CLA checks are wired into CI for protected branches.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=3c5bd4ac8255 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-004,9.9 CLA Policy & Access Control,"Protected branches (main, develop, release/*, feature/*) shall require the `cla-gate` status check via branch protection or rulesets before merges are allowed.",Process,High,Inspection,Inspection,Branch protection/ruleset export or API for main/develop/release/*/feature/* lists `cla-gate` under required_status_checks; a merge attempt (UI or API) with cla-gate status missing returns required-check failure/blocked state. Pass only if both the export shows cla-gate and the merge attempt is blocked; fail otherwise.,Review branch protection rules or rulesets for protected branches and confirm `cla-gate` is configured as a required check before merge.,Screenshots or configuration exports of branch protection/rulesets showing `cla-gate` as a required status check.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-004,ADR-2025-002-CLA-004,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-004; ties CLA enforcement to GitHub branch protection/rulesets.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,2 | hash=ac839510840c | Wording update 2025-11-29,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-005,9.9 CLA Policy & Access Control,The `cla-manifest` and CLA automation repositories **shall be protected** with CODEOWNERS and branch protection rules to prevent unauthorized or unreviewed changes to CLA policy or data.,Process,High,Inspection,Inspection,CODEOWNERS and branch protection are configured for the manifest and automation repositories to restrict who can modify CLA policy or data. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Inspect CODEOWNERS and branch protection settings in the `cla-manifest` and `cla-automation` repositories to verify only authorized teams can change CLA manifests and workflows.,CODEOWNERS excerpts and branch protection configuration for the manifest and automation repositories.,Org Governance,Org Governance,Planned,2025-11-23,ADR-2025-002-CLA-005,ADR-2025-002-CLA-005,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-005; hardens CLA-related repos against unauthorized changes.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=deba63eb9c56 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-006,9.9 CLA Policy & Access Control,The reusable `cla-gate` workflow **shall not hardcode** an organization; it **shall accept** inputs `cla_manifest_repository` and `cla_manifest_file` and use a provided token with minimal required scopes to read the manifest.,Process,High,Inspection,Inspection,`cla-gate` declares `cla_manifest_repository` and `cla_manifest_file` inputs and does not embed an org-specific repo in code.,Inspect the reusable `cla-gate` workflow definition to confirm manifest inputs and absence of hardcoded org.,Workflow YAML excerpt showing manifest inputs; absence of hardcoded org in gate logic.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-006,ADR-2025-002-CLA-006,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-006; ensures the gate is org-agnostic and portable.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=9f49caa9dc8d | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-007,9.9 CLA Policy & Access Control,"The CLA manifest scope **may be per organization or per repository**; the gate **shall enforce** the manifest it is configured to use, and differences across manifests are acceptable.",Process,Medium,Inspection,Inspection,`cla-gate` accepts manifest repo/path inputs and is documented as allowing per-org or per-repo scopes; no implicit org is assumed. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Inspect `cla-gate` docs and inputs to confirm manifest scope is configurable per invocation and no hardcoded org is present.,Workflow docs/excerpt showing manifest scope inputs and org-agnostic design.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-007,ADR-2025-002-CLA-007,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-007; allows per-repo or per-org manifests with the gate enforcing the configured source.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=f6401337ad6f | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-008,9.9 CLA Policy & Access Control,The `cla-gate` workflow **shall surface** which `cla_manifest_repository` and `cla_manifest_file` were used and list any PR author or commit authors that failed the check.,Process,High,Inspection,Inspection,`cla-gate` logs/outputs the manifest repo/file used and enumerates failing handles (author and commit authors) when the check fails. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Inspect `cla-gate` job logs/output for manifest source info and failed handles when a CLA check fails.,CI log excerpt showing manifest source and failing handles.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-008,ADR-2025-002-CLA-008,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-008; improves observability for CLA enforcement.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=d463d3cc32dc | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-009,9.9 CLA Policy & Access Control,"The `cla-gate` workflow shall support forked PRs by allowing read-only manifest mode when no token is provided for public manifests and, on protected branches when manifest access fails, shall exit non-zero (code=E-CLA-ACCESS) with diagnostic fields (code/detection_point/cause/remediation) and no success status.",Process,High,Inspection,Inspection,"Fork PR with no token: gate fetches manifest anonymously (HTTP 200) and evaluates; protected branch with denied manifest returns exit!=0, code=E-CLA-ACCESS, and diagnostic fields populated; no merge-enabling status.",Inspect `cla-gate` behavior/config to confirm read-only mode without a token for public manifests and non-zero diagnostic exit on protected branches if manifest access is denied.,Workflow logic/docs demonstrating fork support and protected-branch failure behavior.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-009,ADR-2025-002-CLA-009,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-009; supports forks while keeping protected branches safe.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: non-zero protected-branch failure and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,2 | hash=571fa2a4ae13 | Wording update 2025-11-29,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-010,9.9 CLA Policy & Access Control,Documentation **shall provide** a minimal fork-friendly workflow snippet showing how to set `cla_manifest_repository`/`cla_manifest_file` inputs so forks can reuse the upstream manifest without hardcoded org names.,Process,Medium,Inspection,Inspection,Contributor/maintainer docs include a copy-paste snippet for forks showing `cla_manifest_repository`/`cla_manifest_file` inputs and no hardcoded org names. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Inspect documentation to confirm a fork-friendly `cla-gate` snippet with manifest inputs and org-agnostic references.,Doc excerpt with fork-friendly snippet.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-010,ADR-2025-002-CLA-010,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-010; makes the gate easy to reuse in forks.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=833019e1667b | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-011,9.9 CLA Policy & Access Control,"The `cla-gate` workflow shall treat the manifest as read-only, avoiding writes or updates to manifest data and derived artifacts.",Process,High,Inspection,Inspection,`cla-gate` does not write to the manifest and uses a read-only/minimal-scope token for manifest access. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Inspect `cla-gate` workflow logic to confirm no write operations and token scopes are read-only/minimal.,Workflow logic/config showing no writes and minimal token scopes.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-011,ADR-2025-002-CLA-011,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-011; ensures the gate is read-only and least-privilege.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,2 | hash=2134fa95d183 | Wording update to satisfy 29148 language lint on 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-012,9.9 CLA Policy & Access Control,Manifest changes **shall be validated** in CI against a JSON schema; schema or required-field violations **shall** fail the change.,Process,High,"Inspection, Test",Test,Manifest PR CI runs schema validation; a malformed manifest causes exit!=0 and logs list missing/invalid fields; a valid manifest passes with exit=0.,Trigger CI on a manifest change and confirm schema validation passes/fails appropriately.,CI logs showing schema validation pass/fail; reference to the JSON schema.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-012,ADR-2025-002-CLA-012,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-012; enforces manifest schema in CI.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=482a7113b209 | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
CLA-013,9.9 CLA Policy & Access Control,"Repositories consuming `cla-gate` **shall pin** the workflow to a tagged version (e.g., `@v1`) rather than `@main`.",Process,Medium,Inspection,Inspection,Workflows invoking cla-gate reference tagged release (ref matches ^v[0-9]+) and do not use @main or @HEAD; scan of workflow files shows only tagged refs.,Inspect consuming workflow files to confirm `cla-gate` is pinned to a tag.,Workflow YAML showing `cla-gate` pinned to a tagged version.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-013,ADR-2025-002-CLA-013,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-013; prevents drift from unpinned refs.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=7f1570913497 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-014,9.9 CLA Policy & Access Control,"Manifest updates **shall include** an audit note (who/why, CLA version) and be merged via PR with required reviewers; direct pushes are not allowed.",Process,High,Inspection,Inspection,Manifest PRs include audit notes and required reviews; branch protection disallows direct pushes. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Inspect a manifest change PR for audit note and required approvals; review branch protection settings.,Manifest PR example with audit note and approvals; branch protection config.,Org Governance,Org Governance,Planned,2025-11-23,ADR-2025-002-CLA-014,ADR-2025-002-CLA-014,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-014; enforces auditable manifest changes.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=70307b8d7cee | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-015,9.9 CLA Policy & Access Control,"`cla-gate` **shall run** with a read-only token from a minimal-scope credential (e.g., GitHub App); PATs are disallowed unless explicitly approved.",Process,High,Inspection,Inspection,Token used by `cla-gate` is minimal-scope/read-only; no PAT unless explicitly approved. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Inspect gate configuration/credentials to confirm token source/scope; verify PAT use is disallowed by policy.,Credential config and policy docs showing token scope and PAT restrictions.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-015,ADR-2025-002-CLA-015,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-015; ensures least-privilege tokens.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=4a9a2f9b1b08 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-016,9.9 CLA Policy & Access Control,"If the manifest is public and no token is provided, `cla-gate` **may** read anonymously; if access fails, it **shall fail closed** on protected branches with a clear diagnostic.",Process,High,Inspection,Inspection,Gate allows anonymous read for public manifests when no token is present; fails closed with diagnostic if access fails on protected branches. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Inspect gate behavior/docs for anonymous-read mode and fail-closed behavior on protected branches when manifest access fails.,Gate docs/logs showing anonymous read and fail-closed behavior.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-016,ADR-2025-002-CLA-016,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-016; clarifies public-manifest handling and fail-closed behavior.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=d5d3e89a60bc | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-017,9.9 CLA Policy & Access Control,`cla-gate` **shall evaluate** all non-bot commit authors and Co-authored-by trailers; failures **shall** list identities lacking an active CLA entry.,Process,High,"Inspection, Test",Test,Gate checks author + all non-bot commit authors (including Co-authored-by) and lists missing identities on failure.,Open PRs with multiple commit authors/Co-authored-by trailers and verify missing identities are reported; inspect logs.,Gate logs showing checked identities and missing entries.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-017,ADR-2025-002-CLA-017,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-017; ensures all contributors on a PR are validated.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=13c5bb39bc34 | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
CLA-018,9.9 CLA Policy & Access Control,"Documentation **shall include** mainline and forked workflow snippets, sample gate output (manifest source, failing handles), and a short FAQ for troubleshooting CLA failures.",Process,Medium,Inspection,Inspection,"Docs contain mainline/fork snippets, sample output, and a troubleshooting FAQ. Pass when observed failures = 0 and required events are captured in logs with timestamps.","Inspect documentation to confirm presence of snippets, sample output, and FAQ.","Doc excerpts showing snippets, sample output, FAQ.",Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-018,ADR-2025-002-CLA-018,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-018; improves usability/troubleshooting.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=8b49bca6c416 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-019,9.9 CLA Policy & Access Control,(Merged into CLA-004) This item is superseded; enforcement of `cla-gate` on protected branches is covered by CLA-004.,Process,High,Inspection,Inspection,See CLA-004 for acceptance and evidence; this entry retained for traceability only.,Review branch protection/ruleset configs to confirm `cla-gate` is required (per CLA-004).,Branch protection/ruleset config showing `cla-gate` required (per CLA-004).,Automation QA (Agent),CI Integration,Superseded,2025-11-26,ADR-2025-002-CLA-019,ADR-2025-002-CLA-019,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Consolidated with CLA-004 to remove duplication and keep singular enforcement requirement.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,2 | hash=c943ff205cf0 | Wording update 2025-11-29,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-020,9.9 CLA Policy & Access Control,The manifest **shall document** how to handle GitHub handle changes/merges; superseded handles **shall** be marked inactive when a new handle replaces them.,Process,Medium,Inspection,Inspection,Manifest/process docs cover handle change/merge procedure; superseded handles marked inactive. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Inspect manifest/process docs and sample entries showing inactive superseded handles.,Docs and manifest entries reflecting handle-change procedure.,Org Governance,Org Governance,Planned,2025-11-23,ADR-2025-002-CLA-020,ADR-2025-002-CLA-020,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-020; handles identity changes correctly.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=e8934645dd2a | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-021,9.9 CLA Policy & Access Control,The manifest **shall declare** a schema version; `cla-gate` **shall** enforce compatibility and fail closed on unknown/unsupported versions.,Process,High,"Inspection, Test",Test,Manifest includes schema version; gate rejects unknown/unsupported versions. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Add manifest with supported/unsupported schema version and observe gate behavior.,Manifest excerpt with schema version; gate logs rejecting unsupported version.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-021,ADR-2025-002-CLA-021,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-021; enforces schema version compatibility.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=4144e3007548 | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
CLA-022,9.9 CLA Policy & Access Control,`cla-gate` **shall** explicitly exempt only known bot accounts; all other non-human authors **shall** require CLA validation.,Process,High,Inspection,Inspection,"Gate log contains bot_exempt=true for allowlisted bot and no manifest lookup entry; gate log lists checked handles and fails when a non-allowlisted handle lacks manifest entry (exit!=0, missing list includes handle).",Inspect gate logic/docs to confirm bot exemption list and default validation of other authors.,Gate config/docs showing bot exemption list and validation behavior.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-022,ADR-2025-002-CLA-022,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-022; controls bot exemptions.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=a9669384cfb7 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-023,9.9 CLA Policy & Access Control,"`cla-gate` shall complete within a defined timeout (e.g., <=60s per run); on timeout it shall exit non-zero (code=E-CLA-TIMEOUT) with diagnostic fields (code/detection_point/cause/remediation) and no merge-enabling status.",Process,Medium,"Inspection, Test",Test,"Gate enforces timeout <=60s; on induced timeout, exit!=0 with code=E-CLA-TIMEOUT and diagnostic fields populated; no merge-enabling status.",Induce/observe timeout behavior and confirm diagnostic exit semantics.,Gate logs showing timeout enforcement,Automation QA (Agent),CI Integration,Planned,2025-11-23,.github/workflows/cla-validate.yml,ADR-2025-002-CLA-023,cla-manifest repo checks,ADR-2025-002-CLA-023,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-023; bounds runtime and behavior on timeout.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: bounded runtime and diagnostic failure on timeout.,2 | hash=df5e7c4d434f | Wording update 2025-11-29,Test: witness QA reviewer; facility CI; equipment gate logs showing timeout behavior and diagnostics; pass per acceptance criteria.,System
CLA-024,9.9 CLA Policy & Access Control,"If manifest data is cached, a maximum TTL **shall** be defined; caches **shall** be refreshed per PR/run to avoid stale decisions.",Process,Medium,Inspection,Inspection,Gate/docs define cache TTL and refresh policy per PR/run. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Inspect gate docs/config to confirm cache TTL and refresh behavior.,Docs/config showing cache TTL and refresh per PR/run.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-024,ADR-2025-002-CLA-024,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-024; prevents stale manifest use.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=02d08d17ae83 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-025,9.9 CLA Policy & Access Control,"Manifest integrity **shall** be protected (e.g., checksum or signature); `cla-gate` **shall** verify integrity before use when provided.",Process,Medium,Inspection,Inspection,Manifest includes checksum/signature field; gate verifies provided checksum/signature matches manifest content and fails with exit!=0 when mismatch is injected.,Inspect gate docs/config to confirm integrity verification option.,Docs/config showing integrity verification step.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-025,ADR-2025-002-CLA-025,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-025; ensures manifest integrity.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=90149170af74 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-026,9.9 CLA Policy & Access Control,`evidence_ref` targets **shall** follow retention/location guidance and **shall not** include PII/secrets in the manifest; storage location **shall** be documented.,Process,High,Inspection,Inspection,"Manifest/docs state evidence storage path and retention; regex scan of evidence_ref fields with pattern `[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}` returns 0 matches; secrets scan returns 0 findings; sample manifest shows evidence_ref field populated without PII.",Inspect manifest/docs for evidence guidance and absence of PII/secrets.,Docs showing evidence guidance; manifest excerpt without PII/secrets.,Org Governance,Org Governance,Planned,2025-11-23,ADR-2025-002-CLA-026,ADR-2025-002-CLA-026,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-026; protects sensitive data handling.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=cd48d404fc95 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-027,9.9 CLA Policy & Access Control,"Handle/email mapping rules **shall** be documented; when commit emails do not map to GH handles, the mapping **shall** be applied before CLA evaluation.",Process,Medium,Inspection,Inspection,Docs describe email→handle mapping; gate applies mapping before evaluation. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Inspect mapping docs and gate logic for email→handle mapping usage.,Docs and gate logic showing mapping applied.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-027,ADR-2025-002-CLA-027,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 requirement CLA-027; handles non-matching emails correctly.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=44d957998f86 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-028,9.9 CLA Policy & Access Control,"`cla-gate` **should emit** metrics (e.g., failures by reason) and support alerting when missing-CLA failures exceed a threshold.",Process,Medium,Inspection,Inspection,"Gate emits metric counters per failure reason (e.g., missing_manifest, missing_handle); threshold >3 missing CLA failures/day triggers alert event logged with timestamp.",Inspect gate observability/alerting configuration for CLA failure metrics/alerts.,Gate observability config showing metrics and alerting thresholds.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-028,ADR-2025-002-CLA-028,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 optional requirement CLA-028; improves observability/alerts.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=209c396c86c4 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-029,9.9 CLA Policy & Access Control,`cla-gate` **should implement** retry/backoff and request caps to the manifest source; on limit exceed it fails closed with a clear diagnostic.,Process,Medium,Inspection,Inspection,Gate docs/config describe retry/backoff and request caps; fail-closed diagnostic on limit exceed.,Inspect gate config/docs for retry/backoff caps and fail-closed behavior on cap exceed.,Docs/config showing retry/backoff caps and fail-closed diagnostic.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-029,ADR-2025-002-CLA-029,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 optional requirement CLA-029; guards against DoS/overuse.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=9a4576abf8a4 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-030,9.9 CLA Policy & Access Control,Failure messaging **should** use a standard auto-comment with intake/docs links and a concise template across repos.,Process,Low,Inspection,Inspection,Failure auto-comment template includes intake/docs links and standardized text; sample failing run shows comment posted with template matching stored snippet.,Inspect gate failure messages/templates for standardization and links.,Template excerpt showing standardized failure message.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-030,ADR-2025-002-CLA-030,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 optional requirement CLA-030; improves UX consistency.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=f3fe78944ee8 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-031,9.9 CLA Policy & Access Control,"`cla-gate` **should target** an availability SLO; if the manifest source is down, it fails closed and notifies maintainers per procedure.",Process,Medium,Inspection,Inspection,"Docs define SLO (e.g., 99%); when manifest source is unreachable, gate exits non-zero and log contains outage code, SLO reference, and notification/alert entry.",Inspect gate docs/config for SLO/notification and fail-closed behavior on manifest outage.,Docs showing SLO and notification procedure.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-031,ADR-2025-002-CLA-031,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 optional requirement CLA-031; sets availability expectations.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=5992315aa2bf | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-032,9.9 CLA Policy & Access Control,"`cla-gate` **may provide** a dry-run/smoke mode for onboarding (report-only), disabled by default on protected branches.",Process,Low,Inspection,Inspection,"Dry-run flag exists; on protected branch, dry-run without explicit enable fails closed (exit!=0) with diagnostic; on non-protected branch, dry-run produces report, exit=0, and no manifest decision change.",Inspect gate config/docs for dry-run mode and default disablement on protected branches.,Docs/config showing dry-run mode and protected-branch defaults.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-032,ADR-2025-002-CLA-032,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 optional requirement CLA-032; aids onboarding.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=799fac4a39e1 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-033,9.9 CLA Policy & Access Control,`cla-gate` **may optionally verify** that `evidence_ref` locations are reachable (without exposing contents) and warn if not.,Process,Low,Inspection,Inspection,"Optional evidence_ref reachability check can be enabled; when enabled, gate warns on unreachable URLs but does not expose contents; sample run shows warning recorded and exit code remains per policy.",Inspect gate docs/config for evidence_ref reachability check and warnings.,Docs/config showing reachability check behavior.,Org Governance,Org Governance,Planned,2025-11-23,ADR-2025-002-CLA-033,ADR-2025-002-CLA-033,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 optional requirement CLA-033; detects unreachable evidence refs.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=2b7aaa037ab2 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
CLA-034,9.9 CLA Policy & Access Control,Logs and outputs **should** be retained per policy and **shall not** include PII/secrets from the manifest or evidence refs; redaction rules **shall** be documented.,Process,High,Inspection,Inspection,Logs redact PII/secrets (regex scan finds 0 matches); retention policy documented (duration/location); sample log demonstrates redaction of evidence_ref values.,Inspect logging/redaction config and sample logs for absence of PII/secrets; verify retention policy.,Docs and sample logs showing redaction and retention policy.,Automation QA (Agent),CI Integration,Planned,2025-11-23,ADR-2025-002-CLA-034,ADR-2025-002-CLA-034,.github/workflows/cla-validate.yml; planned cla-manifest repo checks,Derived from ADR-2025-002 optional requirement CLA-034; protects sensitive data in logs.,Enforces contributor license compliance across authors and committers.,Risk: unlicensed contributions; mitigations: fail-closed gate and manifest validation.,Assumes access to cla-manifest repository or public manifest; GitHub identities mapped.,Gate runs in CI with read-only token for manifest; shall fail closed on access/timeouts.,1 | hash=92c5a0459a08 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-BUILD-ARTIFACTS-001,Build,"The build pipeline SHALL stage three PPLs before VIPM packaging: resource/plugins/lv_icon.lvlibp, resource/plugins/lv_icon.lvlibp.windows_x64, and resource/plugins/lv_icon.lvlibp.windows_x86.",Process,High,Inspection; Test,Inspection,All three files exist under resource/plugins prior to invoking build_vip.ps1.,1) Run build-ppl-x64 and build-ppl-x86 jobs\n2) Download artifacts into resource/plugins\n3) Verify presence of neutral and windows_x64/windows_x86 PPLs before build-vip.,CI logs; artifact listings; pipeline run URL,Build/Release,Release,Proposed,2025-11-27,Test/ModifyVIPBDisplayInfo.Tests.ps1; CI build-vip preflight,VIPB PPL references; build-vip preflight checks,Downstream: VIP packaging succeeds without missing PPL errors,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=fd5b38524d7a | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-SEED-001,Build,The repository SHALL keep a canonical VIPB template at Tooling/deployment/seed.vipb to allow faithful re-creation of the build spec if corruption occurs.,Process,High,Inspection,Inspection,"Path Tooling/deployment/seed.vipb exists; git ls-files includes the path; git check-ignore returns nothing; file checksum (e.g., sha256) recorded.",1) Inspect repo tree for Tooling/deployment/seed.vipb\n2) Verify it is tracked (not gitignored) and committed.,Repo file listing; git status/log showing tracked VIPB.,Build/Release,Release,Proposed,2025-11-26,VIPB is the golden template; ensures reproducibility.,VIPB is the golden template; ensures reproducibility.,Downstream: VIPB-driven builds; Upstream: Source control integrity,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=375e2e99e325 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-SEED-002,Build,The build tooling SHALL allow exporting seed.vipb to JSON and rehydrating it (via Seed container CLI) so the VIPB can be reconstructed from metadata if the file is damaged.,Process,High,"Demonstration, Test",Demonstration,"Using seed container, vipb2json of seed.vipb succeeds; json2vipb produces a VIPB whose hash matches baseline; restored VIPB opens without error.",1) Run: docker compose -f Tooling/docker/seed/docker-compose.yml run --rm seed vipb2json --input /workspace/Tooling/deployment/seed.vipb --output /workspace/artifacts/seed/metadata.json\n2) Run: seed json2vipb using the metadata.json to produce a restored VIPB\n3) Confirm restored VIPB loads and matches original hash/structure.,CLI logs; artifacts/seed/metadata.json; diff/hash of original vs restored VIPB.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,Seed docker helper README; seed container workflows,Seed docker helper README; seed container workflows,Upstream: Tooling/docker/seed; Downstream: ability to recover VIPB from JSON,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=31c8f44667e1 | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
R-BUILD-CA-001,Build,The build spec SHALL reference the 64-bit pre-install custom action at Tooling/deployment/custom-actions/VIP_Pre-Install Custom Action.vi.,Process,High,Inspection,Inspection,VIPB Custom_Action_VIs.Pre-Install_VI equals the specified path.,Inspect Tooling/deployment/seed.vipb (or JSON export) for Custom_Action_VIs.Pre-Install_VI.,VIPB/JSON snippet showing Pre-Install_VI path.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,seed.vipb Custom_Action_VIs,seed.vipb Custom_Action_VIs,Downstream: VIPM install flow uses correct pre-install action,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=a3aa20210a85 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-BUILD-CA-002,Build,The build spec SHALL reference the 64-bit post-install custom action at Tooling/deployment/custom-actions/VIP_Post-Install Custom Action.vi.,Process,High,Inspection,Inspection,VIPB Custom_Action_VIs.Post-Install_VI equals the specified path.,Inspect Tooling/deployment/seed.vipb (or JSON export) for Custom_Action_VIs.Post-Install_VI.,VIPB/JSON snippet showing Post-Install_VI path.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,seed.vipb Custom_Action_VIs,seed.vipb Custom_Action_VIs,Downstream: VIPM install flow uses correct post-install action,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=2659a873e5dd | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-BUILD-CA-003,Build,The build spec SHALL reference the 64-bit pre-uninstall custom action at Tooling/deployment/custom-actions/VIP_Pre-Uninstall Custom Action.vi.,Process,High,Inspection,Inspection,VIPB Custom_Action_VIs.Pre-Uninstall_VI equals the specified path.,Inspect Tooling/deployment/seed.vipb (or JSON export) for Custom_Action_VIs.Pre-Uninstall_VI.,VIPB/JSON snippet showing Pre-Uninstall_VI path.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,seed.vipb Custom_Action_VIs,seed.vipb Custom_Action_VIs,Downstream: VIPM uninstall flow uses correct pre-uninstall action,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=8fb46af96fc9 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-BUILD-CA-004,Build,The build spec SHALL reference the 64-bit post-uninstall custom action at Tooling/deployment/custom-actions/VIP_Post-Uninstall Custom Action.vi.,Process,High,Inspection,Inspection,VIPB Custom_Action_VIs.Post-Uninstall_VI equals the specified path.,Inspect Tooling/deployment/seed.vipb (or JSON export) for Custom_Action_VIs.Post-Uninstall_VI.,VIPB/JSON snippet showing Post-Uninstall_VI path.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,seed.vipb Custom_Action_VIs,seed.vipb Custom_Action_VIs,Downstream: VIPM uninstall flow uses correct post-uninstall action,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=af1ede3c87ba | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-BUILD-GEN-001,Build,"The build spec SHALL set Package_File_Name to ""NI_Icon_editor"" in Library_General_Settings.",Process,High,Inspection,Inspection,Library_General_Settings.Package_File_Name equals NI_Icon_editor.,Inspect Tooling/deployment/seed.vipb (or JSON export) for Package_File_Name.,VIPB/JSON snippet showing Package_File_Name.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,seed.vipb Library_General_Settings,seed.vipb Library_General_Settings,Ensures package name consistency,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=e8b42ba5c8e0 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-BUILD-GEN-002,Build,The build spec SHALL set Library_Version to 21.0.0.12 in Library_General_Settings.,Process,High,Inspection,Inspection,Library_General_Settings.Library_Version equals 21.0.0.12.,Inspect Tooling/deployment/seed.vipb (or JSON export) for Library_Version.,VIPB/JSON snippet showing Library_Version.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,seed.vipb Library_General_Settings,seed.vipb Library_General_Settings,Aligns with supported LabVIEW versioning,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=11eac33727e6 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-BUILD-GEN-003,Build,The build spec SHALL have Auto_Increment_Version = false in Library_General_Settings.,Process,Medium,Inspection,Inspection,Library_General_Settings.Auto_Increment_Version equals false.,Inspect Tooling/deployment/seed.vipb (or JSON export) for Auto_Increment_Version.,VIPB/JSON snippet showing Auto_Increment_Version.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,seed.vipb Library_General_Settings,seed.vipb Library_General_Settings,Prevents unintended version bumps,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=e12f813efbe6 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-BUILD-GEN-004,Build,"The build spec SHALL set Library_Source_Folder to ""..\\.."" and Library_Output_Folder to ""..\\..\\builds\\vip-stash"" in Library_General_Settings.",Process,High,Inspection,Inspection,"JSON export shows Library_Source_Folder==""..\.."" and Library_Output_Folder==""..\..\builds\vip-stash""; diff against baseline is empty; regex check passes exactly once.",Inspect Tooling/deployment/seed.vipb (or JSON export) for source/output folders.,VIPB/JSON snippet showing Library_Source_Folder and Library_Output_Folder.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,seed.vipb Library_General_Settings,seed.vipb Library_General_Settings,Ensures correct source/output locations,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,2 | hash=5d8a195fc501 | Wording update 2025-11-29,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-BUILD-GEN-005,Build,"The build spec SHALL set Company_Name to ""NI"" and Library_License to ""MIT"" in Library_General_Settings.",Process,High,Inspection,Inspection,"JSON export shows Company_Name==""NI"" and Library_License==""MIT""; baseline comparison matches exactly (case-sensitive).",Inspect Tooling/deployment/seed.vipb (or JSON export) for Company_Name and Library_License.,VIPB/JSON snippet showing Company_Name and Library_License.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,seed.vipb Library_General_Settings,seed.vipb Library_General_Settings,Maintains publisher and license metadata,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=7fd8f8464e46 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-BUILD-GEN-006,Build,"The build spec SHALL set Package_LabVIEW_Version to ""21.0 (64-bit)"" and Community_Edition = true in Library_General_Settings.",Process,High,Inspection,Inspection,"Package_LabVIEW_Version == ""21.0 (64-bit)"" and Community_Edition == true in JSON export; matches baseline hash.",Inspect Tooling/deployment/seed.vipb (or JSON export) for Package_LabVIEW_Version and Community_Edition.,VIPB/JSON snippet showing Package_LabVIEW_Version and Community_Edition.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,seed.vipb Library_General_Settings,seed.vipb Library_General_Settings,Aligns package with LV version/edition,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=9d1347d84705 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-BUILD-GEN-007,Build,The build spec SHALL preserve the Package_Icon blob as stored in seed.vipb.,Process,Medium,Inspection,Inspection,Hash of Package_Icon blob equals baseline hash; blob length unchanged.,Export Package_Icon from seed.vipb to JSON and compare hash/length to baseline.,Hash/length comparison of Package_Icon.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,seed.vipb Library_General_Settings,seed.vipb Library_General_Settings,Prevents icon corruption,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=9e96eb8c7767 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-BUILD-GEN-008,Build,"The build spec SHALL set Product_Name to ""NI Icon editor"" in Library_General_Settings.",Process,High,Inspection,Inspection,"JSON export shows Product_Name==""NI Icon editor""; baseline comparison matches exactly.",Inspect Tooling/deployment/seed.vipb (or JSON export) for Product_Name.,VIPB/JSON snippet showing Product_Name.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,seed.vipb Library_General_Settings,seed.vipb Library_General_Settings,Maintains product display name,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=367f3814fc3e | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-BUILD-GEN-009,Build,The build spec SHALL set Was_Built = true and Target = LabVIEW in Library_General_Settings.,Process,Medium,Inspection,Inspection,"JSON export shows Was_Built==true and Target==""LabVIEW""; both values match baseline exactly.",Inspect Tooling/deployment/seed.vipb (or JSON export) for Was_Built and Target.,VIPB/JSON snippet showing Was_Built and Target.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,seed.vipb Library_General_Settings,seed.vipb Library_General_Settings,Ensures VIPB metadata reflects built state/target platform,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=e094de2b49ef | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-BUILD-DEP-001,Build,"The build spec SHALL declare external dependencies: oglib_array >=6.0.1.20, oglib_error >=6.0.0.26, oglib_file >=6.0.2.28, oglib_lvzip >=5.0.9.",Process,High,Inspection,Inspection,"Advanced_Settings.Package_Dependencies lists oglib_array>=6.0.1.20, oglib_error>=6.0.0.26, oglib_file>=6.0.2.28, oglib_lvzip>=5.0.9; counts/versions match exactly.",Inspect Tooling/deployment/seed.vipb (or JSON export) for Additional_External_Dependencies entries.,VIPB/JSON snippet showing dependency list.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,seed.vipb Advanced_Settings.Dependencies,seed.vipb Advanced_Settings.Dependencies,Ensures correct runtime deps,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=d25336ea7f00 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-BUILD-VIPC-001,Build,The build spec SHALL NOT reference a VI Package Configuration (VIPC) file in Advanced_Settings.,Process,High,Inspection,Inspection,JSON export shows VI_Package_Configuration_File field absent or empty; search finds 0 occurrences of a non-empty value.,Inspect Tooling/deployment/seed.vipb (or JSON export) to confirm VI_Package_Configuration_File is absent/blank.,VIPB/JSON snippet showing no VIPC file.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,seed.vipb Advanced_Settings.VIPC,seed.vipb Advanced_Settings.VIPC,Package build stands alone without .vipc dependency,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=4627e1be0f64 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-BUILD-PACKAGER-001,Build,"The build spec SHALL record Packager = ""Sergio Velderrain"" in Advanced_Settings.Description.",Process,Medium,Inspection,Inspection,"Advanced_Settings.Description.Packager equals """"Sergio Velderrain"""".",Inspect Tooling/deployment/seed.vipb (or JSON export) for Description/Packager.,VIPB/JSON snippet showing Packager.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,seed.vipb Advanced_Settings.Description,seed.vipb Advanced_Settings.Description,Maintains author metadata,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=c91ab4f0bc2b | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-BUILD-OSBITS-001,Build,"The build spec SHALL enable OS_32-Bit and OS_64-Bit, and LV_32-Bit and LV_64-Bit flags in Advanced_Settings.",Process,High,Inspection,Inspection,Advanced_Settings.Install_OS and Install_LV flags set to true for 32/64-bit.,"Inspect Tooling/deployment/seed.vipb (or JSON export) for OS_32-Bit, OS_64-Bit, LV_32-Bit, LV_64-Bit.",VIPB/JSON snippet showing OS/LV flags.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,seed.vipb Advanced_Settings.Installation,seed.vipb Advanced_Settings.Installation,Ensures package targets both OS/LV bitnesses,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=655b3b2300e0 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-BUILD-FLAGS-001,Build,The build spec SHALL set install flags: close_labview_before_install=true; restart_labview_after_install=true; skip_mass_compile_after_install=true; install_into_global_environment=false; Edit_VI_Description=false.,Process,High,Inspection,Inspection,Flags in Advanced_Settings.Installation match specified booleans. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Inspect Tooling/deployment/seed.vipb (or JSON export) for these flags.,VIPB/JSON snippet showing install flags.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,seed.vipb Advanced_Settings.Installation,seed.vipb Advanced_Settings.Installation,Ensures predictable install behavior,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=1d4b0790da53 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-BUILD-TEXT-001,Build,"The build spec SHALL preserve the Text_to_Add template: ""{product_name} {version_number}\n{author_name} - {company_name}\n{copyright}"".",Process,Medium,Inspection,Inspection,Advanced_Settings.Text_to_Add matches the template string. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Inspect Tooling/deployment/seed.vipb (or JSON export) for Text_to_Add.,VIPB/JSON snippet showing Text_to_Add.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,seed.vipb Advanced_Settings.Text_to_Add,seed.vipb Advanced_Settings.Text_to_Add,Preserves version/author stamping,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=4ce70b3fa278 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-BUILD-DST-001,Build,"The build spec SHALL retain the destination/disk paths, LLB, and Preserve_Hierarchy settings as recorded in seed.vipb (≈67 Path entries, 17 Preserve_Hierarchy, 15 LLB) for toolkit/examples/probes/errors/help/templates/file/tools menus.",Process,High,Inspection,Inspection,"JSON export of seed.vipb shows exactly 67 Path entries, 17 Preserve_Hierarchy entries, and 15 LLB entries; diff vs baseline destinations block is empty (hash matches baseline).",Export seed.vipb to JSON and compare destination/path/LLB/Preserve_Hierarchy nodes to baseline.,Diff or hash comparison of destination/path block vs baseline.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,seed.vipb Advanced_Settings.Destinations,seed.vipb Advanced_Settings.Destinations,Ensures file layout/LLB settings are intact,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=74c0ea2aa7ae | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
R-BUILD-EXCL-001,Build,The build spec SHALL preserve exclusion paths as recorded in seed.vipb (Tooling deployment/support/test artifacts excluded).,Process,High,Inspection,Inspection,Exclusions list in seed.vipb JSON matches reference list (count and paths identical); hash of Exclusions block equals baseline hash.,Inspect seed.vipb (or JSON export) and compare Exclusions block to baseline.,Diff or hash of Exclusions block vs baseline.,Automation QA (Agent),Build/Release,Proposed,2025-11-26,seed.vipb Advanced_Settings.Exclusions,seed.vipb Advanced_Settings.Exclusions,Prevents packaging of tooling/test assets,See Evidence to Collect for data source details.,"Ensures build artifacts (VIPB, PPLs, destinations) match baseline for reproducibility.",Risk: shipping wrong binaries/config; mitigation: preflight inspections and deterministic counts.,Assumes LabVIEW/VIPM available on Windows self-hosted runner; seed.vipb is canonical.,Runs on self-hosted Windows with LabVIEW; uses GITHUB_TOKEN for repo access; writes under builds-isolated/reports.,1 | hash=b6656b3f9606 | Baseline 2025-11-26,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
TOOL-010,9.15 Repo CLI Probe/Build/Cache Strategy,The shared probe/build/cache helper for repo CLIs SHALL probe for the CLI binary in this order and only fall back to the next tier on failure: (1) active repo or worktree project at `<repo>/Tooling/dotnet/<CLI>/<CLI>.csproj` invoked via `dotnet run`; (2) configured source repo copy of the tooling project invoked via `dotnet run`; (3) existing published binary in the tooling cache; and (4) a build-and-cache step that publishes and then runs the binary from the cache.,Functional/Performance,Medium,"Test, Demonstration",Test,"Across four runs (worktree present, worktree fail with source present, cache only, empty cache), logs/provenance show probe_tier values worktree/source-repo/cache/publish respectively with matching paths; when a tier fails the next tier is attempted only after a logged failure; no unexpected tiers appear.","Using one CLI (for example DevModeAgentCli) configured to use the helper, run four scenarios: (1) normal worktree with the tooling project present; (2) worktree project intentionally broken or renamed so `dotnet run` fails while the source repo remains available; (3) both repos unavailable but a published binary exists in the cache; (4) no repos and empty cache; for each run record logs and provenance, verify which tier was used and that failures at earlier tiers are logged and cause fallback to the next tier.","CLI logs or provenance output for each scenario showing the selected probe tier and any logged failures, plus commands or script excerpts used to set up the scenarios.",Build/Tooling,Dev,Accepted,2025-11-28,scripts/test/probe-helper-smoke.ps1,ADR-2025-013-common-probe-build-cache,"Shared probe helper implementation; tasks invoking DevModeAgentCli, OrchestrationCli, x-cli and IntegrationEngineCli; scripts/run-worktree-task.ps1",Captures the mandated probe order worktree then source repo then cached publish then build-and-cache.,Ensures CLIs honour local changes when available yet still function when sources are absent by falling back to cache and publish.,Risk: incorrect probe order ignores local changes or a valid cache and breaks dev workflows or CI; mitigation is automated tests for each tier and clear logging of the selected tier.,Assumes a configured source repo path is available when the active worktree does not contain tooling projects.,Probe helper shall not silently skip failing tiers and shall log tier selection and failures at an appropriate verbosity.,2 | hash=75f1e6a0c400 | Wording update 2025-11-29,Demonstration/Test: witness QA reviewer; facility devcontainer or CI runner; equipment CLI logs/provenance and tier selection output; pass per acceptance criteria.,System
TOOL-011,9.15 Repo CLI Probe/Build/Cache Strategy,"The repo CLI helper SHALL store published CLI binaries in an OS specific tooling cache under `%LOCALAPPDATA%\labview-icon-editor\tooling-cache\<CLI>\<version>\<rid>\publish\` on Windows and `$HOME/.cache/labview-icon-editor/tooling-cache/<CLI>/<version>/<rid>/publish/` on POSIX systems, and on a cache miss it SHALL run `dotnet publish -c Release -r <rid>` from the highest-priority available repo (active worktree when possible otherwise the configured source repo) and stash the output into the corresponding `<CLI>/<version>/<rid>/publish/` directory before running the binary from the cache.",Functional/Performance,Medium,"Inspection, Test",Test,"Scenario A (cache hit): existing `<CLI>/<version>/<rid>/publish/` is used, logs show cache tier, and no publish step occurs. Scenario B (cache miss then hit): first run logs publish-on-miss exactly once and creates `<CLI>/<version>/<rid>/publish/`; second run on the same key logs cache tier and does not publish; fail if publishes repeat or directories are missing.","On Windows and POSIX agents, set up a CLI version with no published cache entry and a reachable repo copy; invoke the CLI through the helper and confirm that `dotnet publish` is executed, the expected `<CLI>/<version>/<rid>/publish/` path is created under the OS specific tooling cache root and the CLI then runs from that path; repeat with an existing cache entry and confirm that no publish occurs and the CLI runs directly from the cached binary.","File system listings of the tooling cache root on Windows and POSIX showing `<CLI>/<version>/<rid>/publish/` directories, plus CLI logs or provenance output showing cache miss detection, publish on miss and subsequent runs from the cache.",Build/Tooling,Dev,Accepted,2025-11-28,scripts/test/probe-helper-smoke.ps1,ADR-2025-013-common-probe-build-cache,Tooling cache root on Windows and POSIX; Tooling/dotnet/* CLIs that use the helper; scripts that configure tooling cache paths.,Defines the stable cache path structure and publish on miss behaviour for repo CLIs.,"Supports repeatable execution across machines by caching per CLI, version and runtime and reusing published binaries when available.",Risk: incorrect cache paths or publish behaviour leads to stale binaries or repeated expensive publishes; mitigation is explicit path checks and logs plus tests for cache hit and miss cases.,Assumes CLI binaries are publishable with `dotnet publish -c Release -r <rid>` and that the tooling cache root is writable on all supported agents.,Tooling cache contents shall not be edited manually outside the clear tooling cache mechanism and shall be considered ephemeral.,3 | hash=f808fb217e91 | Wording update 2025-11-30,Demonstration/Test: witness QA reviewer; facility Windows and POSIX runners; equipment cache directory listings and CLI logs showing publish-on-miss/hit; pass per acceptance criteria.,System
TOOL-012,9.15 Repo CLI Probe/Build/Cache Strategy,"The repo CLI tooling cache SHALL treat `<CLI>/<version>/<rid>` as the provenance key for each binary, using the CLI git commit SHA or semantic version tag as `<version>` and the runtime identifier as `<rid>`, and when a caller requests a specific `<CLI>/<version>/<rid>` the helper SHALL validate the resolved binary against this key and fail fast with a clear error if the provenance of the binary does not match the requested tuple.",Functional/Performance,Medium,"Inspection, Test",Test,"When a CLI is invoked with an explicit `<CLI>/<version>/<rid>` request, the helper resolves a binary whose provenance matches the requested key and either runs that binary successfully or returns a non zero exit with an error that identifies the missing or mismatched key; tampering with the cache or forcing a mismatch between the requested and resolved provenance causes the helper to fail fast rather than running an unintended binary.","Implement or configure a way to request a specific `<CLI>/<version>/<rid>` through the helper; with a clean cache and a published binary for the requested key, invoke the CLI and capture provenance output confirming that the resolved binary reports the same `<CLI>/<version>/<rid>`; then intentionally corrupt the cache by placing a binary built from a different commit or runtime under the requested path and re run the helper; confirm that the helper detects the mismatch, emits a clear error describing the expected and actual provenance and exits with a non zero status.","Provenance output from successful runs showing the requested `<CLI>/<version>/<rid>` and the matching resolved binary, and error output plus exit codes from mismatch tests showing fail fast behaviour and clear diagnostics.",Build/Tooling,Dev,Accepted,2025-11-28,scripts/test/probe-helper-smoke.ps1,ADR-2025-013-common-probe-build-cache,Shared repo CLI helper; tooling cache layout; CLIs that surface version and commit information.,Defines provenance key semantics so callers and tooling can reason about which exact CLI binary is being used.,Prevents silent drift to stale or unintended binaries by enforcing provenance checks on cache lookups.,Risk: provenance checks are too lax or are bypassed leading to subtle mismatches; mitigation is explicit tests that corrupt the cache and confirm fail fast behaviour.,Assumes each CLI can report its version and commit SHA or tag in a machine readable form used by the helper.,Helper shall treat `<CLI>/<version>/<rid>` as opaque and shall not attempt to normalise or guess versions beyond what ADR-2025-013 defines.,2 | hash=596f9ef6226e | Wording update 2025-11-29,Demonstration/Test: witness QA reviewer; facility devcontainer or CI runner; equipment provenance output and intentionally corrupted cache entries; pass when mismatches fail fast as specified.,System
TOOL-013,9.15 Repo CLI Probe/Build/Cache Strategy,"Each repo CLI SHALL expose a `--print-provenance` or equivalent option that prints the resolved physical path, the cache key `<CLI>/<version>/<rid>`, the probe tier that supplied the binary and the git commit SHA or semantic version reported by the binary, and tasks or scripts invoking these CLIs SHALL log the CLI name, requested version or branch, resolved `<rid>`, probe tier and resolved path at an informational level.",Quality (non-functional),Medium,"Inspection, Test",Inspection,"For DevModeAgentCli, OrchestrationCli, x-cli and IntegrationEngineCli, invoking the CLI with `--print-provenance` outputs the path, `<CLI>/<version>/<rid>` key, probe tier and version or commit information in a readable form, and at least one task or workflow for each CLI records the CLI name, requested version, resolved `<rid>`, probe tier and path in its logs for every run.","For each CLI covered by this ADR, run `<CLI> --print-provenance` from an environment that uses the probe/build/cache helper and capture the output; then execute representative tasks or workflows that invoke each CLI and collect their logs; confirm that the logs include the CLI name, requested version or branch, resolved `<rid>`, probe tier and path and that the values match those reported by `--print-provenance`.","CLI console output from `--print-provenance` for each CLI, plus task or workflow logs that show the required provenance fields for at least one run per CLI.",Build/Tooling,Dev,Accepted,2025-11-28,scripts/test/probe-helper-smoke.ps1,ADR-2025-013-common-probe-build-cache,Tooling/dotnet/DevModeAgentCli; Tooling/dotnet/OrchestrationCli; Tooling/x-cli; Tooling/dotnet/IntegrationEngineCli; tasks that invoke these CLIs.,"Captures the observability requirement for provenance printing and logging of probe tier, cache key and path.",Makes it possible to debug CLI resolution issues and to audit which binary and provenance key were used in any given run.,Risk: CLIs or tasks omit provenance details leading to opaque failures; mitigation is requiring `--print-provenance` and log assertions in automated tests.,Assumes logs from tasks and workflows are accessible in CI and in local dev environments.,Provenance output format should remain stable enough that automated checks can parse key fields even if human readable formatting evolves.,2 | hash=2fa7404f6a54 | Wording update 2025-11-29,Inspection compares `--print-provenance` output and task logs for each CLI to the required fields and values; attach captured output and log snippets demonstrating that provenance is both printed and logged.,System
TOOL-014,9.15 Repo CLI Probe/Build/Cache Strategy,The repo CLI helpers SHALL avoid hardcoded csproj/cache paths; callers SHALL invoke CLIs by name via the helper so location/implementation can change without touching call sites.,Process,Medium,"Inspection, Test",Inspection,"Pass when both: (a) static audit finds 0 hardcoded ""<repo>/Tooling/dotnet/...csproj"" or cache paths at all call sites; and (b) a clean CI run on a clean runner produces artifacts under ""builds-isolated/..."" with 0 upload warnings for missing isolated paths and with the expected isolated artifacts present. Fail if either condition is false.",1) Run static search for csproj/cache path literals in workflows/scripts/docs; 2) Confirm helpers (publish-repo-cli/invoke-repo-cli) are used; 3) Run clean CI on clean runner and confirm builds-isolated outputs exist and uploads emit no missing-path warnings.,Search report showing 0 hardcoded paths; workflow logs from clean CI with builds-isolated artifacts present and no missing-path warnings.,Build/Tooling,Dev,Accepted,2025-11-30,scripts/test/probe-helper-smoke.ps1,ADR-2025-013-common-probe-build-cache,CI workflows using publish-repo-cli/invoke-repo-cli; scripts/run-requirements-summary-task.ps1,Keep helper interface stable; callers use CLI-name only.,Enables moving CLIs/caches without touching call sites; enforces isolated outputs for CI evidence.,Hardcoded paths break when locations change; missing isolated artifacts causes CI warnings.,Helper scripts available in repo; runners have dotnet; CI can write builds-isolated.,No hardcoded <repo>/Tooling/dotnet/...csproj or cache paths; artifacts shall land under builds-isolated.,8 | hash=ef2c5e19eba8 | Constraint wording lint fix 2025-11-30,Inspection: search for hardcoded paths; Test: clean CI run on clean runner proves builds-isolated artifacts present and no missing-path warnings.,System
TOOL-015,9.15 Repo CLI Probe/Build/Cache Strategy,The repo CLI helper and CLIs SHALL be covered by automated tests that exercise the following scenarios for each supported runtime identifier `<rid>`: worktree with tooling project present; worktree without tooling project but source repo available; cache only execution where no repo sources are available; and a mismatch between the requested and resolved `<CLI>/<version>/<rid>` provenance.,Process,Medium,Test,Test,"For each supported `<rid>`, logs show four executed scenarios with explicit outcomes: (1) worktree present -> probe_tier=worktree, exit 0; (2) worktree fail + source present -> probe_tier=source-repo, exit 0; (3) cache-only -> probe_tier=cache, exit 0; (4) provenance mismatch -> probe_tier reported, exit non-zero with mismatch error. Fail if any scenario missing or outcome differs.","Inspect the test suite and tasks coverage configuration to identify tests that exercise the probe/build/cache helper for each supported `<rid>`; run the test suite (or targeted test group) in a devcontainer or CI like environment and confirm that tests for worktree, source repo, cache only and mismatch scenarios execute and pass; review reports to ensure these tests are required in CI for relevant branches.","Test source files and test names that map to each required scenario, plus CI or local test run logs showing the tests executing and passing for each supported `<rid>`.",Build/Tooling,Dev,Accepted,2025-11-28,scripts/test/probe-helper-smoke.ps1,ADR-2025-013-common-probe-build-cache,"Tooling/dotnet tests for DevModeAgentCli, OrchestrationCli, x-cli and IntegrationEngineCli; scripts/tasks-coverage.json; CI test jobs.",Encodes the minimum automated test coverage required for the probe/build/cache helper across key scenarios and runtimes.,"Reduces risk that changes to the helper or CLIs break worktree, source repo, cache only or provenance mismatch behaviours without detection.","Risk: tests are skipped, flaked or not wired into CI causing regressions to slip; mitigation is wiring tests into mandatory tasks coverage and monitoring failures.","Assumes existing test infrastructure can exercise CLIs against worktree, source repo and cache scenarios for each supported `<rid>`.",Tests should be maintainable and runnable in the devcontainer environment and in CI agents without requiring manual setup beyond documented steps.,3 | hash=3f5eee3de80e | Wording update 2025-11-30,Test: witness QA reviewer; facility devcontainer or CI runner; equipment test logs across required runtimes showing worktree/source/cache/mismatch scenarios; pass per acceptance criteria.,System
TOOL-016,9.15 Repo CLI Probe/Build/Cache Strategy,"The repository SHALL provide a `clear-tooling-cache` task or clearly documented manual steps that allow users and CI to remove tooling cache entries for a given `<CLI>/<version>/<rid>` combination, and after the cache is cleared a subsequent invocation of the CLI through the helper SHALL republish on cache miss and recreate the expected `<CLI>/<version>/<rid>/publish/` directory before running the binary from the cache.",Process,Medium,"Demonstration, Test",Test,Before/after listings show only `<CLI>/<version>/<rid>/publish/` removed; first helper run after clear logs publish-on-miss exactly once and recreates that directory; second run on same key logs cache tier and does not publish. Pass only when these three steps occur; fail if other entries removed or publish repeats.,Populate the tooling cache for at least one CLI and runtime with a known `<CLI>/<version>/<rid>` entry; invoke the `clear-tooling-cache` task or documented manual steps targeting that key and list the tooling cache directories before and after to confirm only the targeted entry was removed; then invoke the CLI through the helper again and verify from logs and file system inspection that a publish on miss occurred and that the expected `<CLI>/<version>/<rid>/publish/` directory was recreated and used.,"Console output from the clear tooling cache operation, directory listings of the tooling cache before and after the clear, and CLI logs showing the publish on miss and use of the recreated cache directory.",Build/Tooling,Dev,Accepted,2025-11-28,scripts/test/probe-helper-smoke.ps1,ADR-2025-013-common-probe-build-cache,clear-tooling-cache task implementation or documentation; tooling cache root; tasks and workflows that rely on the cache.,Captures cache management expectations and the requirement to support explicit cache invalidation and repopulation.,Allows users and CI to recover from corrupted or stale cache entries without manual file system surgery while preserving behaviour for other keys.,Risk: cache clearing is too broad and removes unrelated entries or is too narrow and leaves stale data; mitigation is targeted clear by `<CLI>/<version>/<rid>` and tests that confirm correct scope.,Assumes the cache layout matches ADR-2025-013 and that tooling cache roots are accessible to the clear mechanism on all supported platforms.,"Cache management operations shall be idempotent, safe to run repeatedly and shall not remove files outside the defined tooling cache root.",2 | hash=cfe05d107bb3 | Wording update 2025-11-29,Demonstration/Test: witness QA reviewer; facility devcontainer or CI runner; equipment cache directory listings before/after clear and helper logs showing publish on miss; pass per acceptance criteria.,System
TOOL-001,9.11 Dev Container & Dotnet Tooling,The repository SHALL provide a dev container image with .NET 8 SDK and PowerShell so all dotnet tooling builds succeed when run inside the container.,Functional/Performance,Medium,"Inspection, Demonstration",Demonstration,Building the dev container succeeds and running `dotnet build Tooling/dotnet/RequirementsSummarizer/RequirementsSummarizer.csproj` inside the container completes without errors. Pass when observed failures = 0 and required events are captured in logs with timestamps.,"Build the dev container from `.devcontainer/Dockerfile` (context=repo root). Launch the container or VS Code dev container session. In the container, run `dotnet build Tooling/dotnet/RequirementsSummarizer/RequirementsSummarizer.csproj`.",Docker build log showing success; dotnet build log showing success inside the container.,Build/Tooling,Dev,Draft,2025-11-26,.devcontainer/devcontainer.json; .devcontainer/Dockerfile,.devcontainer/devcontainer.json; .devcontainer/Dockerfile,.vscode/tasks.json (Requirements summary task); Tooling/dotnet/* builds,Introduced with dotnet dev container in .devcontainer/.,Provides reproducible container with dotnet and PowerShell for tooling.,Risk: inconsistent toolchain across contributors; mitigation: pinned devcontainer image and tasks.,Assumes Docker available and VS Code devcontainer feature enabled.,Container build uses pinned base image; no host mutation outside workspace.,1 | hash=7c89033d9e99 | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TOOL-002,9.11 Dev Container & Dotnet Tooling,The dotnet RequirementsSummarizer CLI (and the `DevModeAgentCli requirements-summary` helper) SHALL run against docs/requirements/requirements.csv inside the dev container and emit a markdown summary without errors.,Functional/Performance,Medium,"Inspection, Demonstration",Demonstration,Running `pwsh -NoProfile -File scripts/run-requirements-summary-task.ps1` (or `DevModeAgentCli requirements-summary`) inside the container exits 0 and writes the summary file plus supporting artifacts.,"Run pwsh scripts/common/invoke-repo-cli.ps1 -CliName DevModeAgentCli -RepoRoot . -Args @('requirements-summary') inside the devcontainer or CI; confirm exit 0 and that reports/requirements-summary.md, .html, and high-priority outputs are produced while docs/requirements/requirements.csv remains unchanged.","Command output, script log, and generated reports (md, html, high-priority) showing no failed dotnet runs.",Build/Tooling,Dev,Completed,2025-11-26,scripts/run-requirements-summary-task.ps1;DevModeAgentCli requirements-summary,Tooling/dotnet/RequirementsSummarizer/Program.cs;scripts/run-requirements-summary-task.ps1;DevModeAgentCli requirements-summary,reports/requirements-summary.md;reports/requirements-summary.html;reports/requirements-summary-high.md,Ensures local feedback loop for requirements.csv edits.,Provides reproducible container with dotnet and PowerShell for tooling.,Risk: inconsistent toolchain across contributors; mitigation: pinned devcontainer image and tasks.,Assumes Docker available and VS Code devcontainer feature enabled.,Container build uses pinned base image; no host mutation outside workspace.,3 | hash=b1736d122907 | Helper-based procedure update 2025-12-01,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TOOL-003,9.12 IntegrationEngineCli,"IntegrationEngineCli SHALL expose wrapper (default) and managed modes via CLI flags, with --help documenting both and a managed banner emitted when managed mode starts.",Functional/Performance,Medium,"Inspection, Demonstration",Inspection,"Help lists --managed; default invocation dispatches to scripts/ie.ps1; managed invocation prints its banner and, when prerequisites are missing, returns a clear prereq error instead of hanging.","Prereq: dotnet 8 (devcontainer ok). Step 1) Run `pwsh scripts/common/invoke-repo-cli.ps1 -CliName IntegrationEngineCli -RepoRoot . -Args @('--help')` and confirm --managed is documented. Step 2) Run default: `pwsh scripts/common/invoke-repo-cli.ps1 -CliName IntegrationEngineCli -RepoRoot . -Args @('--repo','.', '--ref','HEAD','--bitness','64','--lvlibp-bitness','both','--major','0','--minor','1','--patch','0','--build','1','--company','TestCo','--author','Tester')` and confirm it attempts the wrapper path (log lines referencing scripts/ie.ps1). Step 3) Run managed: same args plus `--managed`; confirm banner `Managed Integration Engine build` appears and, if prereqs are absent, the CLI exits non-zero with a clear message (e.g., requires Windows/LabVIEW).","Console output screenshots/text for help, wrapper, and managed runs including banner and exit codes.",Build/Tooling,Dev,Draft,2025-11-26,Tooling/dotnet/IntegrationEngineCli/README.md,Tooling/dotnet/IntegrationEngineCli/README.md,Tooling/dotnet/IntegrationEngineCli; tests in Test/IntegrationEngineCli (if present),Repro steps runnable from devcontainer; managed run returns a clear prereq error when LabVIEW/Windows is unavailable.,Ensures CLI modes and error handling are observable for integration builds.,Risk: silent failures or unmanaged mode confusion; mitigation: documented flags and exit codes.,Assumes dotnet 8 SDK available; managed mode requires Windows/LabVIEW.,No mutation outside workspace; streams stdout/stderr and returns child exit code.,2 | hash=01f1f73da9c9 | Helper-based procedure update 2025-11-30,Inspection: compare referenced workflow/spec path ( to requirement; cite lines in evidence and include snippet.,System
TOOL-004,9.12 IntegrationEngineCli,IntegrationEngineCli SHALL stream child stdout/stderr and return the child exit code on failure.,Functional/Performance,Medium,Test,Test,Invalid repo input yields a missing-path error message and non-zero exit; streamed output visible in console.,"Run `pwsh scripts/common/invoke-repo-cli.ps1 -CliName IntegrationEngineCli -RepoRoot . -Args @('--repo','C:/invalid','--ref','HEAD','--bitness','64','--lvlibp-bitness','both','--major','0','--minor','1','--patch','0','--build','1','--company','TestCo','--author','Tester')` and assert non-zero exit and error text referencing missing repository path.",Console output with error text and captured exit code (non-zero).,Build/Tooling,Dev,Draft,2025-11-26,Tooling/dotnet/IntegrationEngineCli/README.md,Tooling/dotnet/IntegrationEngineCli/README.md,Tooling/dotnet/IntegrationEngineCli; tests in Test/IntegrationEngineCli (if present),Negative-path test runnable anywhere (no LabVIEW needed).,Ensures CLI modes and error handling are observable for integration builds.,Risk: silent failures or unmanaged mode confusion; mitigation: documented flags and exit codes.,Assumes dotnet 8 SDK available; managed mode requires Windows/LabVIEW.,No mutation outside workspace; streams stdout/stderr and returns child exit code.,2 | hash=c0a00137795a | Helper-based procedure update 2025-11-30,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TOOL-005,9.13 VipbJsonTool & LvprojJsonTool,VipbJsonTool and LvprojJsonTool SHALL round-trip the provided sample VIPB/LVPROJ files to JSON and back while preserving root elements.,Functional/Performance,Medium,"Test, Demonstration",Test,Round-tripping `Tooling/deployment/seed.vipb` and `Tooling/seed/tests/Samples/seed.lvproj` exits 0 and the rebuilt files retain Package/Project roots.,"Prereq: dotnet 8. Steps (from repo root): 1) `pwsh scripts/common/invoke-repo-cli.ps1 -CliName VipbJsonTool -RepoRoot . -Args @('vipb2json','Tooling/deployment/seed.vipb','reports/tooling/seed.vipb.json')` 2) `pwsh scripts/common/invoke-repo-cli.ps1 -CliName VipbJsonTool -RepoRoot . -Args @('json2vipb','reports/tooling/seed.vipb.json','reports/tooling/seed_roundtrip.vipb')` 3) `pwsh scripts/common/invoke-repo-cli.ps1 -CliName LvprojJsonTool -RepoRoot . -Args @('lvproj2json','Tooling/seed/tests/Samples/seed.lvproj','reports/tooling/seed.lvproj.json')` 4) `pwsh scripts/common/invoke-repo-cli.ps1 -CliName LvprojJsonTool -RepoRoot . -Args @('json2lvproj','reports/tooling/seed.lvproj.json','reports/tooling/seed_roundtrip.lvproj')`. Verify exit codes 0 and that the round-tripped files begin with <Package and <Project respectively.","Generated files: reports/tooling/seed.vipb.json, seed_roundtrip.vipb, seed.lvproj.json, seed_roundtrip.lvproj; console output showing exit codes; optional `head`/`Select-String` proving `<Package`/`<Project` roots.",Build/Tooling,Dev,Draft,2025-11-26,Tooling/dotnet/VipbJsonTool; Tooling/dotnet/LvprojJsonTool,Tooling/dotnet/VipbJsonTool; Tooling/dotnet/LvprojJsonTool,reports/tooling artifacts from vipb2json/json2vipb and lvproj2json/json2lvproj,Outputs placed under reports/tooling for easy inspection.,Proves VIPB/LVPROJ round-trip fidelity and error handling.,Risk: corrupted packaging specs; mitigations: round-trip tests and negative-path checks.,Assumes dotnet 8 SDK available; sample seed.vipb and seed.lvproj present.,Reads/writes under reports/tooling; no in-place mutation of source specs.,2 | hash=4c79a31b8a72 | Helper-based procedure update 2025-11-30,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TOOL-006,9.13 VipbJsonTool & LvprojJsonTool,VipbJsonTool and LvprojJsonTool SHALL emit clear non-zero failures when inputs are missing or have invalid roots.,Functional/Performance,Low,Test,Test,Missing-path or malformed input causes non-zero exit and an explanatory error message.,"Run `pwsh scripts/common/invoke-repo-cli.ps1 -CliName VipbJsonTool -RepoRoot . -Args @('vipb2json','does-not-exist.vipb','reports/tooling/missing.json')` and expect non-zero exit with ""Input file not found"". Run `pwsh scripts/common/invoke-repo-cli.ps1 -CliName LvprojJsonTool -RepoRoot . -Args @('lvproj2json','does-not-exist.lvproj','reports/tooling/missing2.json')` and expect similar error.",Console output showing missing-file errors and non-zero exit codes.,Build/Tooling,Dev,Draft,2025-11-26,Tooling/dotnet/VipbJsonTool; Tooling/dotnet/LvprojJsonTool,Tooling/dotnet/VipbJsonTool; Tooling/dotnet/LvprojJsonTool,reports/tooling artifacts from vipb2json/json2vipb and lvproj2json/json2lvproj,Negative-path smoke tests to validate error handling.,Proves VIPB/LVPROJ round-trip fidelity and error handling.,Risk: corrupted packaging specs; mitigations: round-trip tests and negative-path checks.,Assumes dotnet 8 SDK available; sample seed.vipb and seed.lvproj present.,Reads/writes under reports/tooling; no in-place mutation of source specs.,2 | hash=3d63e7f6fbc2 | Helper-based procedure update 2025-11-30,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
TOOL-007,9.14 RequirementsSummarizer,RequirementsSummarizer SHALL produce markdown (and optional HTML) summaries from the CSV without mutating the source file.,Functional/Performance,Medium,"Demonstration, Inspection",Demonstration,"Running `scripts/run-requirements-summary-task.ps1` (or dotnet run with the same arguments) exits 0, produces markdown/html summaries, and leaves the CSV unchanged.","Run pwsh scripts/common/invoke-repo-cli.ps1 -CliName DevModeAgentCli -RepoRoot . -Args @('requirements-summary'); verify exit 0, summaries exist under reports/requirements-summary* and the CSV checksum is unchanged.","Checksums before/after; presence of reports/requirements-summary.md, .html, and high-priority summary; log output shows dotnet exit 0.",Build/Tooling,Dev,Completed,2025-11-26,scripts/run-requirements-summary-task.ps1,Tooling/dotnet/RequirementsSummarizer/Program.cs;scripts/run-requirements-summary-task.ps1,reports/requirements-summary.md;reports/requirements-summary.html;reports/requirements-summary-high.md,"Matches VS Code task ""Requirements summary (dotnet)"".",Provides auditable requirements views without changing the source CSV.,Risk: accidental mutation of requirements file; mitigation: checksum before/after and read-only parsing.,Assumes dotnet 8 SDK available in devcontainer or host.,Reads docs/requirements/requirements.csv; writes summaries under reports/.,2 | hash=cbb6f8980f1c | Helper-based procedure update 2025-12-01,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (per template).",System
TOOL-008,9.14 RequirementsSummarizer,RequirementsSummarizer SHALL honor filtering/sorting flags to scope and order output rows.,Functional/Performance,Low,Test,Test,Filtered/sorted run produces output with fewer/equal rows than the unfiltered run and shows High-priority rows first.,Run `scripts/run-requirements-summary-task.ps1` to generate both the unfiltered summary and the `reports/requirements-summary-high.md` output; confirm High-priority rows dominate the filtered file and the counts are consistent with the unfiltered run.,Two summary files (unfiltered vs filtered) with observed line counts and priority content check; log capturing the filtered run success.,Build/Tooling,Dev,Completed,2025-11-26,scripts/run-requirements-summary-task.ps1,Tooling/dotnet/RequirementsSummarizer/Program.cs;scripts/run-requirements-summary-task.ps1,reports/requirements-summary.md;reports/requirements-summary-high.md,Shows filtering/sorting behavior on requirements.csv.,Provides auditable requirements views without changing the source CSV.,Risk: accidental mutation of requirements file; mitigation: checksum before/after and read-only parsing.,Assumes dotnet 8 SDK available in devcontainer or host.,Reads docs/requirements/requirements.csv; writes summaries under reports/.,1 | hash=8530aa2bd0ff | Baseline 2025-11-26,"Demonstration/Test: list witnesses/roles, facility or environment, equipment/data capture, and pass/fail computation (.",System
ORCH-001,9.16 LabVIEW Source Distribution,"OrchestrationCLI shall provide a serialized SD→PPL flow (`sd-ppl-lvcli`) that uses g-cli only for bind/unbind and LabVIEWCLI for both build specs (""Source Distribution"" and ""Editor Packed Library"") on lv_icon_editor.lvproj/""My Computer"", running inside an isolated temp git worktree from current HEAD and copying Source Distribution/artifacts/PPL outputs back to the main repo on success.",Process,High,"Inspection, Test",Inspection,Subcommand drives g-cli bind/unbind plus LabVIEWCLI ExecuteBuildSpec for SD then PPL in order within the temp worktree; artifacts are copied back and no parallel LabVIEW/g-cli instances run.,"Invoke the subcommand with a real LabVIEW install; observe logs showing worktree creation -> bind -> SD build -> unbind -> extract/bind extracted SD -> PPL build, all via LabVIEWCLI; confirm artifacts copied to the main repo and no concurrent g-cli/LabVIEWCLI.","CLI log snippet showing ordered phases, worktree path, artifact copy-back, and build completions; exit code 0.",Build/Tooling,Build/Release,Proposed,2025-11-29,ADR-2025-015-sd-ppl-labviewcli-orchestration,OrchestrationCli subcommand sd-ppl-lvcli,OrchestrationCli subcommand sd-ppl-lvcli,"Implements agreed runner split, worktree isolation, and ordering.",Ensures deterministic SD→PPL pipeline with LabVIEWCLI builds and g-cli only for tokens.,Risk: overlapping LabVIEW instances; mitigated by serial flow and worktree isolation.,Assumes LabVIEWCLI and g-cli installed; lv_icon_editor.lvproj present.,No parallel execution; single-run lock recommended.,2 | hash=9274eaa5d5ad | Wording update 2025-11-29,Inspection/log review of subcommand run showing ordered phases and successful builds.,System
ORCH-002,9.16 LabVIEW Source Distribution,"The SD→PPL flow shall enforce a standard temp/log location (user-local temp subfolder), create extract/log dirs up front (including the temp worktree base), and fail fast if the temp path is unwritable.",Process,Medium,Test,Test,Run succeeds when temp/worktree/log dirs are creatable and fails with clear error when temp is unwritable.,Run subcommand in normal env and expect success; simulate unwritable temp (override TMP to a bad path) and expect non-zero exit with clear message before worktree creation.,Console/log showing temp/worktree/log dir creation and failure message on unwritable temp.,Build/Tooling,Build/Release,Proposed,2025-11-29,ADR-2025-015-sd-ppl-labviewcli-orchestration,OrchestrationCli subcommand sd-ppl-lvcli,Temp/log/worktree hygiene for builds.,Prevents unclear hangs due to temp issues.,Keeps temp/worktree/log paths predictable across hosts.,Risk: hidden temp failures; mitigated by early check.,Assumes user-local temp is accessible.,Creates temp/log/extract dirs and worktree base; no writes outside user scope.,2 | hash=a86927243e29 | Wording update 2025-11-29,Test both normal and unwritable temp path scenarios; capture logs and exit codes.,System
ORCH-003,9.16 LabVIEW Source Distribution,"Between phases, the SD→PPL flow shall unbind the prior path and close LabVIEW before rebinding/executing the next phase to avoid token/instance collisions (worktree SD → extracted SD).",Process,High,"Inspection, Test",Inspection,Logs show ordered steps with timestamps: (1) SD build completes; (2) unbind + QuitLabVIEW/close executes; (3) bind of extracted SD executes; (4) PPL build runs; no stale-token warnings after step 2. Fail if sequence differs or stale-token warnings persist.,Run subcommand and verify logs contain unbind and LabVIEW close after SD build; confirm PPL build succeeds and LocalHost.LibraryPaths points to extracted SD during that phase.,Log excerpts showing unbind/close between SD and PPL phases and successful PPL build.,Build/Tooling,Build/Release,Proposed,2025-11-29,ADR-2025-015-sd-ppl-labviewcli-orchestration,OrchestrationCli subcommand sd-ppl-lvcli,Collision avoidance by cleanup between phases.,Ensures SD→PPL phases run cleanly without stale tokens.,Prevents token/instance collisions across phases by enforcing unbind/close.,Risk: leftover binds causing path collisions; mitigated by enforced unbind/close.,Assumes g-cli bind/unbind and QuitLabVIEW available.,Serial execution only; no parallel builds.,2 | hash=6d660bcf9a39 | Wording update 2025-11-29,Inspection/test of log showing unbind/close between phases; exit 0 for PPL build.,System
ORCH-004,9.16 LabVIEW Source Distribution,"The SD→PPL flow shall validate the target repo before running (repo exists, has .git, not under Program Files), log provenance (repo path, CLI path, git SHA, RID), and clear stale locks (missing PID or >2h old) before acquiring the per-run lock.",Process,Medium,Inspection,Inspection,"Run shows early log of resolved repo, CLI path, sha, rid; fails fast if repo missing/.git missing or under Program Files; stale lock with dead PID or age>2h is removed with a log line before acquiring a new lock.",Invoke the subcommand with a valid repo and observe provenance + lock handling logs; place a stale lock file with old PID or >2h mtime and rerun; expect removal log and successful lock; run from a non-repo path or Program Files and expect a clear failure.,"Console/log excerpts showing provenance line, stale-lock removal, and fast-fail for invalid repo.",Build/Tooling,Build/Release,Proposed,2025-11-29,ADR-2025-015-sd-ppl-labviewcli-orchestration,OrchestrationCli subcommand sd-ppl-lvcli,"Guardrails for clarity/isolation (provenance, repo validation, stale-lock cleanup).",Prevents ambiguous runs and stale lock blocking; improves auditability.,Ensures repo validity and lock hygiene before orchestration runs.,Risk: lock contention/stuck runs; mitigated by stale-lock cleanup and repo checks.,Assumes git repo root provided via --repo; 2h stale threshold is acceptable.,Repo shall be under a user-writable path; lock at builds/locks/sd-ppl-lvcli.lock.,2 | hash=a2d851417d73 | Wording update 2025-11-29,Inspection/log review with crafted stale lock and invalid repo scenarios.,System
ORCH-005,9.16 LabVIEW Source Distribution,"The SD→PPL flow shall verify TMP/TEMP/TMPDIR and the worktree base are writable before running, fail fast if not, and refuse to reuse an existing worktree path unless explicitly forced (e.g., --force-worktree).",Process,Medium,Test,Test,Writable temp/worktree: run exits 0 and logs resolved paths. Read-only or pre-existing worktree without force: run exits non-zero with a clear message naming the path. Fail otherwise.,Simulate normal run (expect success); set TMP to an unwritable path or pre-create the worktree path and rerun (expect fail-fast); rerun with force flag to allow reuse.,"Console/log showing temp/worktree checks, refusal to reuse existing worktree without force, and clear failure on unwritable paths.",Build/Tooling,Build/Release,Proposed,2025-11-30,ADR-2025-015-sd-ppl-labviewcli-orchestration,OrchestrationCli subcommand sd-ppl-lvcli,Temp/worktree guardrails for isolation.,Prevents hidden temp/worktree failures and accidental reuse.,Protects isolation by enforcing writable temp/worktree roots unless force is given.,Risk: silent reuse of dirty worktree; mitigated by checks/force flag.,Assumes user can override TMP; worktree base under user temp.,Creates/validates temp/log/extract/worktree directories before bind.,2 | hash=77ac4ff31ec1 | Wording update 2025-11-29,Test: witness QA reviewer; facility devcontainer or CI runner; equipment logs for temp/worktree creation and failure cases; pass per acceptance criteria.,System
ORCH-006,9.16 LabVIEW Source Distribution,"The SD→PPL flow shall validate LabVIEW version/bitness and g-cli availability before bind/build, and warn on conflicting LocalHost.LibraryPaths tokens for the target version/bitness prior to bind.",Process,High,Inspection,Inspection,Logs before bind list detected LabVIEW/g-cli versions/bitness; missing requested version/bitness causes non-zero exit before bind/build (log exit code); conflicting tokens emit a warning before bind. Pass only if all three checks appear with logs/exit code.,Invoke the subcommand with valid tools (expect pass); uninstall/mask LabVIEWCLI/g-cli or request a missing bitness (expect fail-fast); create a conflicting LocalHost.LibraryPaths entry and rerun (expect warning).,"Console/log excerpts showing tool validation, early failure when missing, and conflict warning before bind.",Build/Tooling,Build/Release,Proposed,2025-11-30,ADR-2025-015-sd-ppl-labviewcli-orchestration,OrchestrationCli subcommand sd-ppl-lvcli,Version/bitness/tooling sanity and token collision warning.,Prevents late failures and hidden token collisions.,Verifies tool readiness before bind/build to avoid runtime surprises.,Risk: running with wrong LabVIEW/g-cli version; mitigated by up-front validation.,Assumes standard LabVIEW/g-cli install locations; conflict detection reads LabVIEW.ini.,Warn only; bind may proceed if user accepts risk.,2 | hash=027944adb528 | Wording update 2025-11-29,Inspection/log review with missing-tool and conflicting-token scenarios.,System
ORCH-007,9.16 LabVIEW Source Distribution,"The SD→PPL flow shall log artifact source/destination paths (absolute and repo-relative) for Source Distribution, artifacts, and PPL copy-back; copy-back shall be skipped on overall failure unless an explicit copy-on-fail flag is provided.",Process,Medium,Inspection,Inspection,"Logs include absolute and repo-relative source/destination for each copy-back. On failure without copy-on-fail, no files are copied; with copy-on-fail or success, destinations exist/are created. Fail if paths are not logged or copy policy is violated.",Run a successful flow and check logs for path logging and created destinations; force a failing flow and verify copy-back is skipped; rerun with copy-on-fail flag and verify copy-back occurs even on failure.,Console/log excerpts showing path logging and conditional copy-back behavior.,Build/Tooling,Build/Release,Proposed,2025-11-30,ADR-2025-015-sd-ppl-labviewcli-orchestration,OrchestrationCli subcommand sd-ppl-lvcli,Artifact copy-back clarity and safety.,Prevents silent copy to wrong locations and avoids copying on failure by default.,Clarifies copy-back policy across success and failure paths.,Risk: overwriting artifacts on failure; mitigated by skip-on-fail default.,Assumes copy-on-fail flag is opt-in; destinations under main repo.,Logs shall include both absolute and repo-relative paths.,2 | hash=8ec45e2c8680 | Wording update 2025-11-29,Inspection/log review across success/failure and copy-on-fail scenarios.,System
ORCH-008,9.16 LabVIEW Source Distribution,The SD→PPL flow shall enforce close/unbind on all failure paths  and when worktree removal fails it shall report the culprit handle/error and provide a manual cleanup hint.,Process,Medium,Inspection,Inspection,"Failure runs still log close/unbind attempts; if worktree removal fails, log includes the path, error message, and a hint to delete/clear handles manually.","Force a failure (e.g., bad build) and verify close/unbind logs appear; lock a file in the worktree to force removal failure and check the logged hint.",Console/log excerpts showing failure-path cleanup and the removal failure hint.,Build/Tooling,Build/Release,Proposed,2025-11-30,ADR-2025-015-sd-ppl-labviewcli-orchestration,OrchestrationCli subcommand sd-ppl-lvcli,Failure-path cleanup robustness.,Prevents stuck binds and unclear cleanup steps.,Captures guidance for manual cleanup when automation cannot remove the worktree.,Risk: worktree left behind; mitigated by explicit hint.,Assumes close/unbind scripts available; hint can mention manual delete.,Worktree removal attempts are best-effort; manual follow-up may be required.,3 | hash=5227ab37cb3c | Wording update 2025-11-30,Inspection/log review of failure-run cleanup behavior.,System
ORCH-009,9.16 LabVIEW Source Distribution,"The SD→PPL flow shall log phase markers with durations plus resolved paths, LV/g-cli versions, port, and build specs; LabVIEWCLI log paths shall be captured and echoed in the final summary.",Process,High,Inspection,Inspection,"Logs include phase headers (e.g., [phase] sd-build, bind, ppl-build) each with elapsed duration and resolved path/version/port/build-spec; summary section lists LabVIEWCLI log file paths. Fail if headers/durations or log paths absent.",Run the subcommand and review logs/JSON output for phase markers and captured LabVIEWCLI log paths; verify summary includes log file paths.,Console/log excerpts and JSON summary showing phase timing and log paths.,Build/Tooling,Build/Release,Proposed,2025-11-30,ADR-2025-015-sd-ppl-labviewcli-orchestration,OrchestrationCli subcommand sd-ppl-lvcli,Logging completeness for traceability.,Improves diagnosability and traceability.,Ensures phase timing and log locations are documented for audits.,Risk: missing log locations; mitigated by explicit capture.,Assumes LabVIEWCLI supports log file path option; summary should include it.,LabVIEWCLI log path capture is required for final summary output.,2 | hash=ad190e68cc6f | Wording update 2025-11-29,Inspection of run output/JSON summary.,System
ORCH-010,9.16 LabVIEW Source Distribution,"The SD→PPL flow shall provide optional retry knobs for LabVIEWCLI builds (e.g., --retry-build n) and adjustable LabVIEWCLI connect timeout/port with logging of the effective values.",Process,Low,Test,Test,"When retry flag is set, transient LabVIEWCLI failures are retried up to n times; connect timeout/port overrides are logged; defaults remain unchanged when not set.",Run with retry enabled and simulate a transient failure (expect retry attempts); run with custom port/timeout and verify logs show effective values.,Console/log excerpts showing retries and effective timeout/port values.,Build/Tooling,Build/Release,Proposed,2025-11-30,ADR-2025-015-sd-ppl-labviewcli-orchestration,OrchestrationCli subcommand sd-ppl-lvcli,Resilience and configurability for LabVIEWCLI.,Mitigates transient LabVIEWCLI failures and clarifies runtime knobs.,Retries/timeout controls improve robustness while preserving defaults when unset.,Risk: retries masking real issues; mitigated by capped retry count.,Assumes LabVIEWCLI honors timeout/port overrides.,Retries/timeouts are optional and should not alter default behavior when unset.,2 | hash=b9dbf3737d45 | Wording update 2025-11-29,Test: witness QA reviewer; facility devcontainer or CI runner; equipment run logs showing retries and timeout/port override behavior; pass per acceptance criteria.,System
ORCH-011,9.16 LabVIEW Source Distribution,The SD→PPL flow shall allow explicit repo resolution shorthand (--repo auto = cwd) while keeping --repo required; the resolved absolute repo path shall be logged loudly at start.,Process,Low,Inspection,Inspection,"With --repo auto from a repo root, logs resolved absolute repo path; with explicit path, logs the same. Using auto from a non-repo fails with a validation error. Fail otherwise.",Invoke with --repo auto from a repo root and observe the logged resolved path; try from a non-repo cwd and expect failure per repo validation.,Console/log showing resolved repo path line; failure on non-repo when using auto.,Build/Tooling,Build/Release,Proposed,2025-11-30,ADR-2025-015-sd-ppl-labviewcli-orchestration,OrchestrationCli subcommand sd-ppl-lvcli,Usability without sacrificing explicitness.,Keeps intent clear while offering a shorthand.,Requires explicit repo logging to avoid ambiguity.,Risk: accidental use outside repo; mitigated by validation.,Assumes cwd is the intended repo when using auto.,Repository shall still pass validation before run.,2 | hash=559a9e425f95 | Wording update 2025-11-29,Inspection/log review for auto-resolve behavior.,System
ORCH-012,9.16 LabVIEW Source Distribution,The SD→PPL flow shall extend binary provenance by logging build timestamp and supporting an optional --expect-sha <hash> flag to fail if the CLI git SHA does not match.,Process,Low,Inspection,Inspection,Run without expect-sha logs build timestamp; run with expect-sha matching current SHA passes; mismatch causes failure with a clear message.,Invoke with correct expect-sha and observe success; rerun with wrong hash and expect failure.,Console/log showing timestamp and expect-sha check behavior.,Build/Tooling,Build/Release,Proposed,2025-11-30,ADR-2025-015-sd-ppl-labviewcli-orchestration,OrchestrationCli subcommand sd-ppl-lvcli,Binary trust and provenance.,Prevents “mystery binary” usage; improves auditability.,Enforces SHA match when provided while keeping default path unchanged.,Risk: user mis-supplies hash; mitigated by clear error.,Assumes git SHA available at runtime.,Expect-sha flag optional; defaults log timestamp only.,2 | hash=37287c974f34 | Wording update 2025-11-29,Inspection/log review with correct/incorrect expect-sha.,System
ORCH-013,9.16 LabVIEW Source Distribution,"The SD→PPL flow shall derive LabVIEW version and bitness from the worktree VIPB (and extracted SD VIPB if needed), resolve LabVIEW.exe/port from that detection, and run without requiring a bitness flag.",Process,Medium,Inspection,Inspection,"With bitness/version omitted, logs show VIPB-derived bitness/version and resolved LabVIEW.exe path/port; the build command line includes those same values. Pass only if the logged defaults exactly match the command invocation; fail otherwise.",Invoke the subcommand with no bitness/version flags and verify the detected version/bitness matches the VIPB; confirm LabVIEWCLI builds succeed using the resolved executable/port.,Console/log excerpts showing VIPB-derived version/bitness and successful builds without explicit bitness input.,Build/Tooling,Build/Release,Proposed,2025-11-30,ADR-2025-015-sd-ppl-labviewcli-orchestration,OrchestrationCli subcommand sd-ppl-lvcli,Auto-derivation reduces user error and keeps subcommand flags minimal.,Prevents mismatched flags vs. VIPB; simplifies task usage.,Automates bitness/version selection based on VIPB data.,Risk: VIPB missing/invalid; mitigated by fallback/default logging.,Assumes VIPB present in the worktree; fallback defaults remain.,VIPB-driven detection should be logged before execution.,2 | hash=11691d4a78de | Wording update 2025-11-29,Inspection/log review of a run without bitness/version flags.,System
ORCH-014,9.16 LabVIEW Source Distribution,"Source Distribution zip shall include the minimal tooling bundle (self-contained OrchestrationCli win-x64, scripts/Tooling helpers, .vscode tasks/configs, seed.vipb/project, requests) so users can unzip and run VS Code tasks without dotnet SDK.",Process,High,Inspection,Inspection,After unzipping source-distribution.zip to a temp path: (a) Tooling/bin/<cli> file exists with size>0 and responds to `--version`; (b) scripts/Tooling/.vscode directory exists; (c) grep of tasks/configs shows Tooling/bin/<cli> references. Pass only if all three checks succeed with recorded outputs; fail if any element missing or CLI does not run.,"Extract the zip to a short path, open in VS Code, run the SD→PPL task using the bundled CLI, and observe success without requiring dotnet SDK.","Zip listing and task run log showing bundled CLI path, task execution, and successful build.",Build/Tooling,Build/Release,Proposed,2025-11-30,ADR-2025-016-tooling-included-in-source-distribution,Source distribution payload for VS Code consumption,Source distribution payload for VS Code consumption,Enables reuse of the SD artifact without cloning the repo.,Keeps SD payload runnable without dotnet SDK.,Risk: stale bundled CLI; mitigated by rebuilding bundle during SD build.,Assumes LabVIEW and g-cli installed locally; no NI redistributables included.,Tasks/scripts use relative paths to extracted root; bundled CLI path is referenced in tasks.,2 | hash=15eaaa1c106a | Wording update 2025-11-29,Inspection/log review of extracted bundle and VS Code task run.,System
ORCH-015,9.16 LabVIEW Source Distribution,"When running from extracted Source Distribution, the flow shall require short roots `C\t` (temp/log/extract) and `C\w` (worktrees); fail fast if missing/unwritable.",Process,Medium,Test,Test,Run from an extracted SD with `C\t`/`C\w` present and writable (expect success); remove or lock those paths and rerun (expect clear failure before bind/build).,Simulate missing/unwritable `C\t` or `C\w` and confirm the flow exits with a clear message; normal run with folders present succeeds.,Console/log showing early validation of `C\t`/`C\w` and fail-fast on missing/unwritable paths.,Build/Tooling,Build/Release,Proposed,2025-11-30,ADR-2025-016-tooling-included-in-source-distribution,Source distribution runtime guardrails for short paths,Source distribution runtime guardrails for short paths,Prevents path-length and permission issues by enforcing known short roots.,Keeps extracted SD runs on predictable short paths.,Risk: users without access to root folders; mitigated by clear messaging.,Assumes Windows environment with ability to create `C\t` and `C\w`.,Short roots only for temp/worktrees; repo paths remain relative to extraction.,2 | hash=b2a7cee7d4cc | Wording update 2025-11-29,Test: witness QA reviewer; facility devcontainer or CI runner; equipment logs showing short-root requirement satisfied or violated; pass per acceptance criteria.,System
ORCH-016,9.16 LabVIEW Source Distribution,"The orchestration shall regenerate the requirements markdown (requirements summary) during the SD→PPL flow, shall include the rendered markdown file in the Source Distribution payload, and shall allow users of the extracted SD to regenerate the requirements summary on demand (mirroring the parent repo).",Process,Medium,"Inspection, Test","Inspection, Test","After sd-ppl-lvcli, a requirements markdown exists in the Source Distribution containing the current commit/timestamp; the extracted SD copy contains the same file and the two files have matching sha256 hashes. Pass only if presence and hash match are verified; fail if missing or stale.","Run the subcommand and verify the requirements markdown is regenerated, placed under builds/reports, present in the extracted SD, and that running the bundled requirements summary task from the extracted SD succeeds.","Listing or log excerpts showing the generated requirements markdown path, its presence inside the extracted SD, and a successful run of the bundled requirements-summary task.",Build/Tooling,Build/Release,Proposed,2025-11-30,ADR-2025-016-tooling-included-in-source-distribution,OrchestrationCli subcommand sd-ppl-lvcli with requirements export,OrchestrationCli subcommand sd-ppl-lvcli with requirements export,Keeps requirements visible for users running from the SD and empowers them to regenerate the summary locally; improves traceability.,Ensures SD payload ships with current requirements markdown and a way to regenerate it.,Risk: stale or missing requirements file if generation fails; mitigated by logging and build failure or warning; risk of missing generator in SD; mitigated by bundling and tests.,Assumes requirements generator exists and can run headless; SD payload includes reports folder and the summary task/CLI.,Copy generated requirements markdown into SD; bundle the summary task/CLI so users can rerun it.,2 | hash=357e4aa18a7b | Wording update 2025-11-29,Inspection/test showing generated requirements markdown in SD and regenerated from extracted SD.,System
ORCH-017,9.16 LabVIEW Source Distribution,"Source Distribution bundle shall include an optional VS Code task to clone the upstream repo to a short root (default `C\w\labview-icon-editor-final-fork` or commit-suffixed), refuse overwrite unless forced, and log resolved remote/path.",Process,Low,"Inspection, Test",Inspection,"Case 1 (empty dest): task clones to default short path, logs remote URL and destination path. Case 2 (dest exists, no force): task aborts with warning, no overwrite. Case 3 (dest exists, force): task overwrites and logs action. Fail if behavior differs.","From extracted SD, run the clone task with default remote; confirm clone succeeds to short path; precreate the dest and rerun (expect refusal); rerun with force to allow overwrite; confirm logs record remote and dest.","Task output/log showing remote+dest, success clone, refusal without force, and success with force.",Build/Tooling,Build/Release,Proposed,2025-11-30,ADR-2025-016-tooling-included-in-source-distribution,VS Code optional clone task for SD users,VS Code optional clone task for SD users,Optional convenience to bootstrap from SD without manual git commands.,Provides guided clone flow from SD with guardrails.,Risk: accidental overwrite of existing folder; mitigated by refusal unless force and clear logging.,Assumes git installed and network access to remote; short roots available/writable.,Keeps short-root convention (`C\w`); optional task should be network-safe.,2 | hash=44a105e68507 | Wording update 2025-11-29,"Inspection/test of optional clone task covering success, refusal, and force modes.",System
ORCH-018,9.16 LabVIEW Source Distribution,"Source Distribution bundle shall provide a read-only VI history/compare analysis task (VS Code) that replays the vi-compare scenarios against the extracted SD without bind/build, logs under reports/logs, and refuses to run from Program Files.",Process,Medium,"Inspection, Test",Inspection,"From an extracted SD in a writable location, running the read-only vi-history task produces transcripts under reports/logs with no bind/build or token changes; running from Program Files refuses with a clear error. Fail otherwise.", task runs the vi-history replay using bundled scripts and writes transcripts under reports/logs; when launched from a Program Files path it fails with a clear refusal.,Extract the SD, run the task (default SdRoot) and verify transcripts appear under reports/logs with no bind/build side effects; attempt to run with SdRoot under Program Files and observe refusal.,Task output/log showing replay run and refusal guard; presence of log files under reports/logs.,Build/Tooling,Build/Release,Proposed,2025-11-30,ADR-2025-016-tooling-included-in-source-distribution,scripts/vi-compare/run-vi-history-suite-sd.ps1 + VS Code task 09b,"Lets SD consumers run VI history/compare analysis read-only without cloning/binding, improving diagnosability.",Risk: accidental writes to protected locations; mitigated by Program Files guard and read-only design.,Assumes LabVIEW/x-cli available for replay and SD extracted to writable path.,No bind/build; logs stay within extracted SD.,2 | hash=629536bfbe16 | Wording update 2025-11-29,Inspection/test of read-only analysis task from extracted SD and refusal under Program Files.,System
ORCH-019,9.16 LabVIEW Source Distribution,"After deriving LabVIEW version/bitness from VIPB, the SD→PPL orchestration shall read `server.tcp.port` from the corresponding LabVIEW.ini, pass that port explicitly to LabVIEWCLI (and g-cli/close helpers), and log the port and its source (INI vs fallback) in phase markers and summary. If the port is missing or already bound, the flow shall fail fast with a clear diagnostic.",Process,Medium,"Inspection, Test",Inspection,"Run with matching LabVIEW.ini port: logs show the port value and the same port passed to LabVIEWCLI; if the port is missing/occupied, the flow fails early with an explicit error before build. Fail otherwise.","Craft a run with a valid INI port and confirm logs/CLI args match; then occupy the port or remove the INI entry and rerun, expecting early failure with a diagnostic.","Console/log excerpts showing VIPB-derived version/bitness, port source, CLI args, and fail-fast on missing/occupied port.",Build/Tooling,Build/Release,Proposed,2025-11-30,ADR-2025-015-sd-ppl-labviewcli-orchestration,OrchestrationCli sd-ppl-lvcli,"Ensures LabVIEWCLI uses the configured VI Server port per VIPB-derived bitness, avoiding collisions and misconnects.","Ensures LabVIEWCLI uses the configured VI Server port per VIPB-derived bitness, avoiding collisions and misconnects.",Avoids port collisions by reading the intended INI entry up front.,Risk: connecting to wrong port; mitigated by INI read + logging + fail-fast.,Assumes LabVIEW.ini contains server.tcp.port; fallback may be needed for legacy installs.,Pass port to LabVIEWCLI/g-cli; log port and source in summary.,2 | hash=0ddaa983f45d | Wording update 2025-11-29,Inspection/test with valid port and port-occupied scenarios.,System
LVSD-001,9.16 LabVIEW Source Distribution,"A new LabVIEW Source Distribution task (Editor Packed Library build spec referenced by seed.vipb) shall run via LabVIEWCLI ExecuteBuildSpec before the lvlibp + VI Package flow, placing outputs in the same paths the VI Package build already expects so seed.vipb cannot tell the difference.",Process,High,"Inspection, Test",Inspection,Task exists (VS Code + CI) invoking LabVIEWCLI ExecuteBuildSpec with the Editor Packed Library build spec; outputs land in the same destinations consumed by the lvlibp + VI Package steps.,Inspect the VS Code task/CI job and the CLI invocation for the Editor Packed Library build spec; verify outputs are produced in the expected destination prior to lvlibp/VI Package build.,Task definition snippet plus CLI log showing ExecuteBuildSpec invocation and output paths.,Automation QA (Agent),Build/Release,Proposed,2025-11-29,ADR-2025-014-labview-source-distributions,ADR-2025-014-labview-source-distributions,DevMode/CI tasks invoking LabVIEWCLI ExecuteBuildSpec,Ensures source distribution is built first and paths align with existing lvlibp/VI package inputs so seed.vipb is agnostic.,Keeps build ordering aligned with seed.vipb expectations.,Risk: path drift breaks VIPB build; mitigated by reusing existing destinations.,Assumes LabVIEW 2020+ and VI Server enabled on build agent.,Outputs reused by lvlibp/VI Package; no additional relocation.,2 | hash=23fe554766a5 | Wording update 2025-11-29,Inspection/test of Editor Packed Library build invocation and outputs.,System
LVSD-002,9.16 LabVIEW Source Distribution,"Each source distribution build shall emit a manifest JSON under reports/ with per-VI entries containing vi_path, per-VI commit hash, build_spec, and timestamp, plus top-level build metadata (project/target/spec).",Interface,High,Inspection,Inspection,"Manifest JSON exists and each VI entry has non-empty fields path, author, date, source, commit_hash; random sample of at least 3 entries verified; fail if any required field missing/empty.",Build a source distribution and inspect the manifest under reports/; confirm fields present for each VI and top-level build metadata.,"Manifest excerpt showing per-VI vi_path, commit, build_spec, timestamp, and build metadata.",Automation QA (Agent),Build/Release,Proposed,2025-11-29,ADR-2025-014-labview-source-distributions,ADR-2025-014-labview-source-distributions,Reports manifest for source distribution runs,Enables traceability of source contents and commit provenance for the distribution.,Improves provenance of SD outputs.,Risk: missing commit hashes reduce traceability; mitigated by per-VI git lookup.,Assumes git metadata available for per-VI commits.,Manifest stored under reports/; referenced by log-stash.,2 | hash=757fcbe2c9f9 | Wording update 2025-11-29,Inspection of manifest JSON for required fields and metadata.,System
LVSD-003,9.16 LabVIEW Source Distribution,"Source distribution outputs and their manifest shall be published as log-stash artifacts alongside existing build bundles, using relative paths under builds/log-stash/ and linked from the manifest/logs for CI evidence.",Process,Medium,"Inspection, Test",Inspection,"Log-stash bundle exists at builds/log-stash/<commit>/source/...; bundle manifest lists files.manifest and files.outputs attachments with relative paths; both files exist, have size>0, and paths resolve; logs include the bundle path. Pass only if bundle, attachments, path resolution, and size checks succeed; fail otherwise.",Run the source distribution task and confirm log-stash helper copies the manifest/output paths into a bundle and updates the index.,Log-stash manifest excerpt and helper log showing bundle path and attachments.,Automation QA (Agent),Build/Release,Proposed,2025-11-29,ADR-2025-014-labview-source-distributions,ADR-2025-014-labview-source-distributions,builds/log-stash bundle for source distribution,Keeps source distribution artifacts traceable in CI alongside VIPB artifacts.,Maintains CI evidence for SD outputs.,Risk: missing bundle reduces auditability; mitigated by helper + index.,Assumes log-stash helper wired into the new task.,Relative bundle paths under builds/log-stash.,2 | hash=801ea1a8b56e | Wording update 2025-11-29,Inspection/test of log-stash bundle for source distribution artifacts.,System
LVSD-004,9.16 LabVIEW Source Distribution,"Source distribution manifests (JSON and CSV) shall record per-file path, last_commit, commit_author, commit_date, commit_source, size_bytes and be packaged inside builds/artifacts/source-distribution.zip for traceability.",Interface,High,"Inspection, Test",Inspection,"Manifest JSON and CSV each include required fields (path, author, date, source, commit_hash) for every entry; artifact zip contains both files; sha256 of zipped files matches workspace copies. Pass only if field presence and hash match are verified; fail otherwise.",Run the source distribution task; inspect builds/Source Distribution/manifest.json and manifest.csv for required columns; verify builds/artifacts/source-distribution.zip contains both manifest files.,Manifest excerpts plus zip listing showing manifest.json and manifest.csv,Automation QA (Agent),Build/Release,Proposed,2025-11-29,ADR-2025-014-labview-source-distributions,ADR-2025-014-labview-source-distributions,Script: scripts/build-source-distribution/Build_Source_Distribution.ps1 produces manifests and zip artifact.,Ensures per-file traceability (hash/author/date/source) is captured and archived with the distribution.,Provides per-file traceability for SD artifacts.,Risk: missing fields or missing manifests reduce traceability; mitigated by inspection in task/CI.,Assumes git metadata available for repo-tracked files; LabVIEW install files may remain null.,Manifests live under builds/Source Distribution; zip under builds/artifacts.,2 | hash=171b0b13d11f | Wording update 2025-11-29,Inspection/test showing manifest fields and zip contents.,System
LVSD-005,9.16 LabVIEW Source Distribution,"A source distribution verification CLI command shall unzip `builds/artifacts/source-distribution.zip`, load `manifest.json`/`manifest.csv`, validate every non-null `last_commit` exists in the repository git history, and emit a report/bundle for pipeline and VS Code consumption; missing commits shall fail the command (null commits may be allowed unless strict mode is requested).",Process,High,"Inspection, Test",Test,Valid manifest input produces exit 0 and success message; invalid/missing commit hashes produce non-zero exit and entries in builds/reports/source-distribution-verify (and optional log-stash bundle). Fail otherwise.,Run the verification command on a valid source-distribution.zip and expect success and `[artifact]` report paths; modify one manifest entry to an invalid commit and expect non-zero exit and failing entry in the report.,Command/log output showing `[artifact]` report paths and exit codes for valid/invalid cases,Automation QA (Agent),Build/Release,Proposed,2025-11-29,ADR-2025-014-labview-source-distributions,ADR-2025-014-labview-source-distributions,Source distribution verification CLI/task,Ensures source distribution provenance is checked before downstream consumption.,Protects downstream flows by validating manifest commits.,Risk: unverified distributions could ship stale or tampered content; mitigated by hard failure on missing commits.,Assumes git history is present locally for commit lookups.,Requires access to builds/artifacts/source-distribution.zip and git history.,2 | hash=9f8ea4a8cd49 | Wording update 2025-11-29,Test: witness QA reviewer; facility devcontainer or CI runner; equipment manifest validation logs demonstrating commit validation success/failure; pass per acceptance criteria.,System
XCLI-PROV-001,9.20 x-cli Provider,"The default LabVIEW provider (ILabviewProvider) SHALL be used by x-cli subcommands vi-analyzer-run/verify, vi-compare-run, vipm-apply-vipc, and vipm-build-vip without requiring new CLI flags.",Functional/Performance,High,Test,Test,"For each listed subcommand under default provider, logs/process list show LabVIEWCLI/g-cli (real provider) starts and exits 0, and outputs match expected schema/baseline samples. Pass only if both process evidence and schema match are present; fail otherwise.","Run: `pwsh scripts/common/invoke-repo-cli.ps1 -CliName XCli -RepoRoot . -Args @('vi-analyzer-run','--request','configs/vi-analyzer-request.sample.json')` (and vi-compare-run, vipm-apply-vipc, vipm-build-vip). Verify stdout/stderr and exit codes match prior behavior; no additional flags required.",Console/log output showing successful runs with default provider; exit code 0.,Build/Tooling,Dev,Proposed,2025-11-29,,Tooling/x-cli/src/XCli/ViAnalyzer/ViAnalyzerRunCommand.cs;ViAnalyzerVerifyCommand.cs;ViCompareRunCommand.cs;VipmApplyVipcCommand.cs;VipmBuildVipCommand.cs,VS Code tasks: 07 x-cli: VI Analyzer; 09 x-cli: VI History (vi-compare-run); vipm apply/build equivalents.,Ensures default provider preserves behavior and CLI surfaces; derived from ADR-0004.,Preserves existing provider behavior when no override is set.,Risk: behavior regression if provider wiring changes outputs; mitigated by smoke tests.,Assumes no XCLI_PROVIDER set; real LabVIEW/g-cli present for non-sim runs.,Defaults to LabviewProviderSelector -> DefaultLabviewProvider; no flag change.,3 | hash=6def28fd8a5d | Helper-based procedure update 2025-11-30,Test: witness QA reviewer; facility devcontainer or CI runner; equipment provider run logs across covered subcommands showing default behavior; pass per acceptance criteria.,System
XCLI-PROV-002,9.20 x-cli Provider,"The simulated provider SHALL be selectable via `XCLI_PROVIDER=sim` and return stubbed results without invoking LabVIEW/g-cli; optional env knobs: `XCLI_SIM_FAIL`, `XCLI_SIM_EXIT`, `XCLI_SIM_DELAY_MS`.",Functional/Performance,Medium,Test,Test,"With XCLI_PROVIDER=sim, each listed subcommand exits with expected simulated code, stdout contains a simulated marker (e.g., ""SIMULATED""), and no LabVIEW/g-cli processes appear in logs/process list. Pass only if simulated outputs are present and no real processes spawn; fail otherwise.","Set `XCLI_PROVIDER=sim` and run `pwsh scripts/common/invoke-repo-cli.ps1 -CliName XCli -RepoRoot . -Args @('vi-analyzer-run','--request','configs/vi-analyzer-request.sample.json')`; expect simulated output and exit code per XCLI_SIM_* envs; repeat for vi-compare-run, vipm-apply-vipc, vipm-build-vip.",Console/log output showing simulated messages and exit codes honoring XCLI_SIM_*; no LabVIEW processes spawned.,Build/Tooling,Dev,Proposed,2025-11-29,,Tooling/x-cli/src/XCli/Labview/Providers/SimulatedLabviewProvider.cs;Program.cs;ViAnalyzerRunCommand.cs;ViCompareRunCommand.cs;VipmApplyVipcCommand.cs;VipmBuildVipCommand.cs,"VS Code tasks can be run with XCLI_PROVIDER=sim to dry-run (07, 09, VIPM tasks).",Enables CI/dry-run mode without LabVIEW; derived from ADR-0004.,Provides simulation path without touching LabVIEW/g-cli.,Risk: accidental sim in prod; mitigated by explicit env requirement.,Assumes env XCLI_PROVIDER=sim set; sim is side-effect-free.,Sim provider returns stubbed stdout/stderr and exit code; honors XCLI_SIM_*.,3 | hash=49ffadda5f3f | Helper-based procedure update 2025-11-30,Test: witness QA reviewer; facility devcontainer or CI runner; equipment simulated provider outputs and exit codes across covered subcommands; pass per acceptance criteria.,System
BIND-001,9.10 Development Mode Binding,"The bind/unbind composite SHALL detect per-bitness development-mode token state and emit a machine-readable summary (JSON) listing the current INI path, expected path, and planned action (bind/skip/unbind/fail) for each requested bitness.",Functional/Performance,High,"Inspection, Test",Inspection,"JSON summary includes entries for each requested bitness with fields current_path, expected_path, and action reflecting actual INI state. Pass when observed failures = 0 and required events are captured in logs with timestamps.","Run the composite in status/dry-run mode against a repo with known dev-mode states (bound and unbound). Inspect JSON output for each bitness: current_path matches INI, expected_path matches the repo, action reflects the decision.",JSON output snippet; INI file contents before/after showing accuracy.,Automation QA (Agent),Build/Release,Planned,2025-02-20,TC-DEV-BIND-WIN;TC-DEV-BIND-LNX,docs/adr/ADR-2025-003-dev-mode-composite-helper.md; docs/adr/ADR-2025-004-dev-mode-intent-shim.md,Composite action .github/actions/dev-mode-binder and Pester tests (planned).,Nice-to-have status visibility; enables automation.,Required to safely bind/unbind LabVIEW dev-mode tokens per dev-mode binder design; prevents corrupted tokens and mis-scoped changes.,"Risk: corrupt dev-mode tokens or binding the wrong repo (quality/schedule); mitigations: dry-run/report, force guard, revert-on-failure, explicit bitness filters.","Assumes repository_path exists on runner, g-cli and Create_LV_INI_Token.vi available, and user provides bitness (32/64/both).",Runs on Windows self-hosted runner with LabVIEW + g-cli; touches LocalHost.LibraryPaths INI entries for provided repository_path only; no global git config changes; uses Create_LV_INI_Token.vi.,1 | hash=9b80d9e451fd | Baseline 2025-11-26,Inspection + Demonstration: run .github/actions/dev-mode-binder against known dev-mode tokens; capture JSON summary showing requested_bitness/current_path/expected_path/action fields per bitness.,System
BIND-002,9.10 Development Mode Binding,"When binding, the composite SHALL apply development mode only for bitnesses that are missing or mismatched and SHALL skip bitnesses whose LocalHost.LibraryPaths already contains the expected token path (the repo's lvproj parent), and SHALL ensure dev-mode prep completes (packed libs removed, sources prepared) for the bitnesses it binds.",Functional/Performance,High,Test,Test,"After running bind: (a) previously mismatched/missing bitness shows the repo path in INI, packed libs are removed, and dev-mode prep completes; (b) bitnesses with an existing matching LocalHost.LibraryPaths entry remain unchanged. Pass when observed failures = 0 and required events are captured in logs with timestamps.","Set a wrong INI path for one bitness and correct for another; run bind; verify only the wrong bitness changes while the correct one is untouched, and that packed libs are removed/prepare scripts ran for the changed bitness.",Before/after INI entries; dev-mode logs per bitness; absence of packed libs.,Automation QA (Agent),Build/Release,Planned,2025-02-20,TC-DEV-BIND-WIN;TC-DEV-BIND-LNX,docs/adr/ADR-2025-003-dev-mode-composite-helper.md; docs/adr/ADR-2025-004-dev-mode-intent-shim.md,Composite action .github/actions/dev-mode-binder and Pester tests (planned).,Uses existing Set_Development_Mode.ps1 under the hood.,Required to safely bind/unbind LabVIEW dev-mode tokens per dev-mode binder design; prevents corrupted tokens and mis-scoped changes.,"Risk: corrupt dev-mode tokens or binding the wrong repo (quality/schedule); mitigations: dry-run/report, force guard, revert-on-failure, explicit bitness filters.","Assumes repository_path exists on runner, g-cli and Create_LV_INI_Token.vi available, and user provides bitness (32/64/both).",Runs on Windows self-hosted runner with LabVIEW + g-cli; touches LocalHost.LibraryPaths INI entries for provided repository_path only; no global git config changes; uses Create_LV_INI_Token.vi.,1 | hash=fcd3530f40db | Baseline 2025-11-26,Demonstration/Test: start with mixed bound/unbound bitnesses; run binder and verify JSON/action results show bind only where missing and skip where already bound; capture logs and before/after LocalHost.LibraryPaths.,System
BIND-003,9.10 Development Mode Binding,"When unbinding, the composite SHALL call the revert flow for requested bitnesses and remove dev-mode tokens for the provided repository path, restoring packaged sources.",Functional/Performance,High,Test,Test,After unbind the INI token for each requested bitness is absent (or no longer points to the repo) and packaged sources are restored. Pass when observed failures = 0 and required events are captured in logs with timestamps.,"Bind both bitnesses, then run unbind; confirm tokens removed and packaged sources restored per RevertDevelopmentMode.ps1.",INI file after unbind; revert script logs; presence of packaged sources.,Automation QA (Agent),Build/Release,Planned,2025-02-20,TC-DEV-BIND-WIN;TC-DEV-BIND-LNX,docs/adr/ADR-2025-003-dev-mode-composite-helper.md; docs/adr/ADR-2025-004-dev-mode-intent-shim.md,Composite action .github/actions/dev-mode-binder and Pester tests (planned).,Ensures clean teardown.,Required to safely bind/unbind LabVIEW dev-mode tokens per dev-mode binder design; prevents corrupted tokens and mis-scoped changes.,"Risk: corrupt dev-mode tokens or binding the wrong repo (quality/schedule); mitigations: dry-run/report, force guard, revert-on-failure, explicit bitness filters.","Assumes repository_path exists on runner, g-cli and Create_LV_INI_Token.vi available, and user provides bitness (32/64/both).",Runs on Windows self-hosted runner with LabVIEW + g-cli; touches LocalHost.LibraryPaths INI entries for provided repository_path only; no global git config changes; uses Create_LV_INI_Token.vi.,1 | hash=d6b78355cd83 | Baseline 2025-11-26,"Demonstration/Test: on Windows lab runner with QA witness, run unbind flow against bound tokens; equipment: LabVIEW INI + g-cli; capture JSON showing unbind success and packaged sources restored; pass/fail from exit code and post-state.",System
BIND-004,9.10 Development Mode Binding,The composite SHALL support a DryRun/Report mode that performs no INI or file changes while still emitting the status JSON and human-readable summary.,Interface,Medium,"Inspection, Test",Inspection,"Hash(LocalHost.LibraryPaths before) == Hash(after) (sha256 over file); hash(resource/plugins) unchanged; JSON per bitness has status='dry-run' and fields current_path, expected_path, action present (validated against schema).",Run DryRun on a known state; diff INI/files before/after; verify summary emitted.,INI/file diff (no changes); summary/log excerpt.,Automation QA (Agent),Build/Release,Planned,2025-02-20,TC-DEV-BIND-WIN;TC-DEV-BIND-LNX,docs/adr/ADR-2025-003-dev-mode-composite-helper.md; docs/adr/ADR-2025-004-dev-mode-intent-shim.md,Composite action .github/actions/dev-mode-binder and Pester tests (planned).,Protects from unintended changes.,Required to safely bind/unbind LabVIEW dev-mode tokens per dev-mode binder design; prevents corrupted tokens and mis-scoped changes.,"Risk: corrupt dev-mode tokens or binding the wrong repo (quality/schedule); mitigations: dry-run/report, force guard, revert-on-failure, explicit bitness filters.","Assumes repository_path exists on runner, g-cli and Create_LV_INI_Token.vi available, and user provides bitness (32/64/both).",Runs on Windows self-hosted runner with LabVIEW + g-cli; touches LocalHost.LibraryPaths INI entries for provided repository_path only; no global git config changes; uses Create_LV_INI_Token.vi.,1 | hash=361d13127833 | Baseline 2025-11-26,Inspection/Test: execute binder with dry_run=true and confirm no INI/file writes while JSON and human summary are produced.,System
BIND-005,9.10 Development Mode Binding,The composite SHALL guard scope: it SHALL only modify dev-mode tokens that target the provided repository path unless an explicit Force flag is supplied.,Quality (non-functional),High,"Inspection, Test",Inspection,"Without Force, INI entry for other repo remains identical (hash or exact line match) and JSON action='fail' with message containing 'scope'; with Force, INI entry equals expected_path and JSON action='bind'/'unbind'.",Place INI entries for another repo and for the target repo; run bind without Force (other repo untouched) then with Force (token updated).,INI before/after; logs showing Force behavior.,Automation QA (Agent),Build/Release,Planned,2025-02-20,TC-DEV-BIND-WIN;TC-DEV-BIND-LNX,docs/adr/ADR-2025-003-dev-mode-composite-helper.md; docs/adr/ADR-2025-004-dev-mode-intent-shim.md,Composite action .github/actions/dev-mode-binder and Pester tests (planned).,Prevents accidental cross-repo changes.,Required to safely bind/unbind LabVIEW dev-mode tokens per dev-mode binder design; prevents corrupted tokens and mis-scoped changes.,"Risk: corrupt dev-mode tokens or binding the wrong repo (quality/schedule); mitigations: dry-run/report, force guard, revert-on-failure, explicit bitness filters.","Assumes repository_path exists on runner, g-cli and Create_LV_INI_Token.vi available, and user provides bitness (32/64/both).",Runs on Windows self-hosted runner with LabVIEW + g-cli; touches LocalHost.LibraryPaths INI entries for provided repository_path only; no global git config changes; uses Create_LV_INI_Token.vi.,1 | hash=878ff0f5c5f1 | Baseline 2025-11-26,Inspection/Test: attempt to bind unrelated repo token; verify binder refuses unless force=true and logs guarded scope.,System
BIND-006,9.10 Development Mode Binding,"After bind/unbind, the composite SHALL re-read the LabVIEW INI token for each requested bitness and include the observed post-state in the JSON summary with status (success/fail) and current_path.",Functional/Performance,High,"Inspection, Test",Test,Post-state JSON entries show status and current_path matching the INI after the action. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Run bind then unbind; capture JSON and INI; verify post-state matches actual INI values per bitness.,JSON summary; INI snippet after actions.,Automation QA (Agent),Build/Release,Planned,2025-02-20,TC-DEV-BIND-WIN;TC-DEV-BIND-LNX,docs/adr/ADR-2025-003-dev-mode-composite-helper.md; docs/adr/ADR-2025-004-dev-mode-intent-shim.md,Composite action .github/actions/dev-mode-binder and Pester tests (planned).,Confirms verification step is recorded.,Required to safely bind/unbind LabVIEW dev-mode tokens per dev-mode binder design; prevents corrupted tokens and mis-scoped changes.,"Risk: corrupt dev-mode tokens or binding the wrong repo (quality/schedule); mitigations: dry-run/report, force guard, revert-on-failure, explicit bitness filters.","Assumes repository_path exists on runner, g-cli and Create_LV_INI_Token.vi available, and user provides bitness (32/64/both).",Runs on Windows self-hosted runner with LabVIEW + g-cli; touches LocalHost.LibraryPaths INI entries for provided repository_path only; no global git config changes; uses Create_LV_INI_Token.vi.,1 | hash=bd4eb22e46a0 | Baseline 2025-11-26,"Demonstration/Test: after bind/unbind, re-read INI tokens on Windows runner; witness QA; facility: self-hosted CI; equipment: g-cli, token files; pass when JSON post_status matches actual INI state.",System
BIND-007,9.10 Development Mode Binding,The composite SHALL return a non-zero exit code if any requested bitness fails prechecks or bind/unbind actions while still emitting the JSON summary.,Interface,High,Test,Test,Process exits non-zero on failure for any requested bitness; JSON summary is still produced.,"Induce a failure (e.g., missing g-cli) for one bitness; observe exit code !=0 and JSON present.",Process exit code; JSON file content.,Automation QA (Agent),Build/Release,Planned,2025-02-20,TC-DEV-BIND-WIN;TC-DEV-BIND-LNX,docs/adr/ADR-2025-003-dev-mode-composite-helper.md; docs/adr/ADR-2025-004-dev-mode-intent-shim.md,Composite action .github/actions/dev-mode-binder and Pester tests (planned).,Clear CI/task failure signaling.,Required to safely bind/unbind LabVIEW dev-mode tokens per dev-mode binder design; prevents corrupted tokens and mis-scoped changes.,"Risk: corrupt dev-mode tokens or binding the wrong repo (quality/schedule); mitigations: dry-run/report, force guard, revert-on-failure, explicit bitness filters.","Assumes repository_path exists on runner, g-cli and Create_LV_INI_Token.vi available, and user provides bitness (32/64/both).",Runs on Windows self-hosted runner with LabVIEW + g-cli; touches LocalHost.LibraryPaths INI entries for provided repository_path only; no global git config changes; uses Create_LV_INI_Token.vi.,1 | hash=1565066512b3 | Baseline 2025-11-26,Demonstration/Test: induce a failure (missing token) on Windows runner; witness QA; facility: CI; equipment: g-cli/logs; verify non-zero exit code while JSON summary is emitted.,System
BIND-008,9.10 Development Mode Binding,"The composite SHALL emit a human-readable summary per bitness (action taken, result, diagnostics) in addition to JSON, with a log location for the JSON file.",Interface,Medium,"Inspection, Test",Inspection,Console/log output lists each bitness with action/result and path to JSON file. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Run bind/unbind and review console output for per-bitness summary and JSON path.,Log/console excerpt.,Automation QA (Agent),Build/Release,Planned,2025-02-20,TC-DEV-BIND-WIN;TC-DEV-BIND-LNX,docs/adr/ADR-2025-003-dev-mode-composite-helper.md; docs/adr/ADR-2025-004-dev-mode-intent-shim.md,Composite action .github/actions/dev-mode-binder and Pester tests (planned).,Improves usability in tasks/CI.,Required to safely bind/unbind LabVIEW dev-mode tokens per dev-mode binder design; prevents corrupted tokens and mis-scoped changes.,"Risk: corrupt dev-mode tokens or binding the wrong repo (quality/schedule); mitigations: dry-run/report, force guard, revert-on-failure, explicit bitness filters.","Assumes repository_path exists on runner, g-cli and Create_LV_INI_Token.vi available, and user provides bitness (32/64/both).",Runs on Windows self-hosted runner with LabVIEW + g-cli; touches LocalHost.LibraryPaths INI entries for provided repository_path only; no global git config changes; uses Create_LV_INI_Token.vi.,1 | hash=8c62e641e00b | Baseline 2025-11-26,Inspection: verify human-readable summary and JSON file paths are logged per bitness with diagnostics.,System
BIND-009,9.10 Development Mode Binding,The composite SHALL accept a bitness filter (32/64/both) and SHALL skip unavailable bitnesses with a warning and status=skip in JSON.,Functional/Performance,Medium,Test,Test,Unavailable bitness yields warning and JSON action=skip; available bitness executes normally. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Run with both bitnesses on a host missing one LabVIEW bitness; confirm warning and JSON skip entry.,Logs showing warning; JSON entry with action=skip.,Automation QA (Agent),Build/Release,Planned,2025-02-20,TC-DEV-BIND-WIN;TC-DEV-BIND-LNX,docs/adr/ADR-2025-003-dev-mode-composite-helper.md; docs/adr/ADR-2025-004-dev-mode-intent-shim.md,Composite action .github/actions/dev-mode-binder and Pester tests (planned).,Handles partial installations.,Required to safely bind/unbind LabVIEW dev-mode tokens per dev-mode binder design; prevents corrupted tokens and mis-scoped changes.,"Risk: corrupt dev-mode tokens or binding the wrong repo (quality/schedule); mitigations: dry-run/report, force guard, revert-on-failure, explicit bitness filters.","Assumes repository_path exists on runner, g-cli and Create_LV_INI_Token.vi available, and user provides bitness (32/64/both).",Runs on Windows self-hosted runner with LabVIEW + g-cli; touches LocalHost.LibraryPaths INI entries for provided repository_path only; no global git config changes; uses Create_LV_INI_Token.vi.,2 | hash=e7405f74e8b5 | Wording update 2025-11-29,Demonstration/Test: run binder with bitness filters on Windows runner; witness QA; facility: CI; equipment: token files; confirm skipped bitness logged with warning and status=skip.,System
BIND-010,9.10 Development Mode Binding,"On failure during bind, the composite SHALL attempt to revert any partially applied dev-mode changes for the affected bitnesses before exiting.",Quality (non-functional),High,Test,Test,"On induced mid-run failure, binder exits non-zero, JSON status='fail' includes revert=true, and post-INI hash equals baseline before run (token removed or restored).","Force a mid-run failure (e.g., break prepare script); confirm revert executed and INI matches baseline.",INI before/after; logs showing revert attempt.,Automation QA (Agent),Build/Release,Planned,2025-02-20,TC-DEV-BIND-WIN;TC-DEV-BIND-LNX,docs/adr/ADR-2025-003-dev-mode-composite-helper.md; docs/adr/ADR-2025-004-dev-mode-intent-shim.md,Composite action .github/actions/dev-mode-binder and Pester tests (planned).,Prevents half-configured states.,Required to safely bind/unbind LabVIEW dev-mode tokens per dev-mode binder design; prevents corrupted tokens and mis-scoped changes.,"Risk: corrupt dev-mode tokens or binding the wrong repo (quality/schedule); mitigations: dry-run/report, force guard, revert-on-failure, explicit bitness filters.","Assumes repository_path exists on runner, g-cli and Create_LV_INI_Token.vi available, and user provides bitness (32/64/both).",Runs on Windows self-hosted runner with LabVIEW + g-cli; touches LocalHost.LibraryPaths INI entries for provided repository_path only; no global git config changes; uses Create_LV_INI_Token.vi.,1 | hash=fb4acfe80ad4 | Baseline 2025-11-26,Demonstration/Test: simulate bind failure mid-run and confirm revert attempt restores baseline; capture revert logs.,System
BIND-011,9.10 Development Mode Binding,"The composite SHALL enforce prechecks: validate RepositoryPath exists, required scripts (Create_LV_INI_Token.vi, g-cli) are present, and fail with a clear diagnostic if missing.",Functional/Performance,High,"Inspection, Test",Test,Missing prerequisite causes exit code !=0; JSON status='fail' and message contains missing item name; INI hash before/after identical.,Remove g-cli or the VI; run bind; observe failure message and no INI modifications.,Error log; unchanged INI.,Automation QA (Agent),Build/Release,Planned,2025-02-20,TC-DEV-BIND-WIN;TC-DEV-BIND-LNX,docs/adr/ADR-2025-003-dev-mode-composite-helper.md; docs/adr/ADR-2025-004-dev-mode-intent-shim.md,Composite action .github/actions/dev-mode-binder and Pester tests (planned).,Guards against misconfigured hosts.,Required to safely bind/unbind LabVIEW dev-mode tokens per dev-mode binder design; prevents corrupted tokens and mis-scoped changes.,"Risk: corrupt dev-mode tokens or binding the wrong repo (quality/schedule); mitigations: dry-run/report, force guard, revert-on-failure, explicit bitness filters.","Assumes repository_path exists on runner, g-cli and Create_LV_INI_Token.vi available, and user provides bitness (32/64/both).",Runs on Windows self-hosted runner with LabVIEW + g-cli; touches LocalHost.LibraryPaths INI entries for provided repository_path only; no global git config changes; uses Create_LV_INI_Token.vi.,1 | hash=f20196cbe458 | Baseline 2025-11-26,Demonstration/Test: remove RepositoryPath or g-cli/Create_LV_INI_Token.vi on Windows runner; witness QA; facility: CI; equipment: filesystem/logs; expect clear diagnostic and non-zero exit with JSON summary.,System
BIND-012,9.10 Development Mode Binding,The composite SHALL support a configurable JSON output path (defaulting to workspace tmp or reports) and create parent directories as configured.,Interface,Low,"Inspection, Test",Inspection,JSON is written to the requested path; parent directories created if absent. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Set a custom JSON path; run bind; verify file written and directories created.,Filesystem listing; JSON file content.,Automation QA (Agent),Build/Release,Planned,2025-02-20,TC-DEV-BIND-WIN;TC-DEV-BIND-LNX,docs/adr/ADR-2025-003-dev-mode-composite-helper.md; docs/adr/ADR-2025-004-dev-mode-intent-shim.md,Composite action .github/actions/dev-mode-binder and Pester tests (planned).,Enables integration with tasks/CI artifacts.,Required to safely bind/unbind LabVIEW dev-mode tokens per dev-mode binder design; prevents corrupted tokens and mis-scoped changes.,"Risk: corrupt dev-mode tokens or binding the wrong repo (quality/schedule); mitigations: dry-run/report, force guard, revert-on-failure, explicit bitness filters.","Assumes repository_path exists on runner, g-cli and Create_LV_INI_Token.vi available, and user provides bitness (32/64/both).",Runs on Windows self-hosted runner with LabVIEW + g-cli; touches LocalHost.LibraryPaths INI entries for provided repository_path only; no global git config changes; uses Create_LV_INI_Token.vi.,1 | hash=6f424adcdc3c | Baseline 2025-11-26,Inspection: verify configurable json_output path is honored and parent directories created; confirm artifact placed under reports/ when unset.,System
BIND-013,9.10 Development Mode Binding,The composite SHALL leave unrelated INI tokens untouched (other repos or products) and only mutate entries associated with the provided RepositoryPath (unless Force).,Quality (non-functional),High,"Inspection, Test",Inspection,Other repo tokens remain unchanged after bind/unbind without Force. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Preseed INI with entries for another repo; run bind/unbind; verify other entries unchanged.,INI before/after.,Automation QA (Agent),Build/Release,Planned,2025-02-20,TC-DEV-BIND-WIN;TC-DEV-BIND-LNX,docs/adr/ADR-2025-003-dev-mode-composite-helper.md; docs/adr/ADR-2025-004-dev-mode-intent-shim.md,Composite action .github/actions/dev-mode-binder and Pester tests (planned).,Protects other toolchains.,Required to safely bind/unbind LabVIEW dev-mode tokens per dev-mode binder design; prevents corrupted tokens and mis-scoped changes.,"Risk: corrupt dev-mode tokens or binding the wrong repo (quality/schedule); mitigations: dry-run/report, force guard, revert-on-failure, explicit bitness filters.","Assumes repository_path exists on runner, g-cli and Create_LV_INI_Token.vi available, and user provides bitness (32/64/both).",Runs on Windows self-hosted runner with LabVIEW + g-cli; touches LocalHost.LibraryPaths INI entries for provided repository_path only; no global git config changes; uses Create_LV_INI_Token.vi.,1 | hash=fd7ae2bd2bf8 | Baseline 2025-11-26,Inspection/Test: run binder with other repo tokens present and confirm only matching repository_path entries are modified unless force=true.,System
BIND-014,9.10 Development Mode Binding,"The composite SHOULD export artifacts (logs/JSON) as CI attachments when run in CI context (e.g., path under reports/ or builds/).",Quality (non-functional),Medium,"Inspection, Test",Inspection,Artifacts land under a predictable path suitable for upload in CI. Pass when observed failures = 0 and required events are captured in logs with timestamps.,Run in CI-like env; confirm logs/JSON written under reports or builds.,Path listing; CI artifact upload config.,Automation QA (Agent),Build/Release,Planned,2025-02-20,TC-DEV-BIND-WIN;TC-DEV-BIND-LNX,docs/adr/ADR-2025-003-dev-mode-composite-helper.md; docs/adr/ADR-2025-004-dev-mode-intent-shim.md,Composite action .github/actions/dev-mode-binder and Pester tests (planned).,Supports traceability in CI runs.,Required to safely bind/unbind LabVIEW dev-mode tokens per dev-mode binder design; prevents corrupted tokens and mis-scoped changes.,"Risk: corrupt dev-mode tokens or binding the wrong repo (quality/schedule); mitigations: dry-run/report, force guard, revert-on-failure, explicit bitness filters.","Assumes repository_path exists on runner, g-cli and Create_LV_INI_Token.vi available, and user provides bitness (32/64/both).",Runs on Windows self-hosted runner with LabVIEW + g-cli; touches LocalHost.LibraryPaths INI entries for provided repository_path only; no global git config changes; uses Create_LV_INI_Token.vi.,1 | hash=65ab13500952 | Baseline 2025-11-26,Inspection/Test: run in CI and verify logs/JSON uploaded under reports/ or builds/ for artifact retention.,System
BIND-015,9.10 Development Mode Binding,"The VS Code task ""06c DevMode: Clear/Unbind all LabVIEW versions"" SHALL remove LocalHost.LibraryPaths entries for all detected LabVIEW versions (32/64) and invoke restore-sources per version/bitness for the provided repository.",Process,Medium,Test,Test,Running `pwsh -NoProfile -File scripts/clear-labview-librarypaths-all.ps1 -RepositoryPath <repo>` (same as VS Code task 06c) exits 0; summary table reports status per detected version/bitness; LabVIEW.ini entries are absent for installed versions; restore-sources is invoked per version/bitness.,From repo root, run the command above. Verify exit code 0; confirm summary table lines for each detected version/bitness; inspect one 32-bit and one 64-bit LabVIEW.ini (if installed) to ensure LocalHost.LibraryPaths entries are removed; confirm restore-sources (OrchestrationCli) was executed per version/bitness.,Automation QA (Agent),Build/Release,Proposed,2025-11-28,scripts/clear-labview-librarypaths-all.ps1;.vscode/tasks.json (06c DevMode: Clear/Unbind all LabVIEW versions),scripts/clear-labview-librarypaths-all.ps1;.vscode/tasks.json (06c DevMode: Clear/Unbind all LabVIEW versions),scripts/clear-labview-librarypaths-all.ps1;.vscode/tasks.json (06c DevMode: Clear/Unbind all LabVIEW versions),Resets dev-mode state across all installed LabVIEW versions in one task.,Provides a one-step cleanup/restore when multiple LabVIEW versions are installed.,Risk: missing restores if tooling fails; mitigation: warns on missing INIs and attempts OrchestrationCli restore.,Assumes dotnet/orchestration CLI available; LabVIEW installed under canonical paths.,No mutation outside LabVIEW INI and repo restore assets; writes logs/summary to console.,2 | hash=17c69fe6d531 | Wording update 2025-11-29,Test: witness QA reviewer; facility Windows LabVIEW runner; equipment summary table and LabVIEW.ini snapshots after clear-all; pass per acceptance criteria.,System
BIND-016,9.10 Development Mode Binding,"LabVIEW.ini SHALL contain at most one LocalHost.LibraryPaths entry per LabVIEW version/bitness, pointing to the intended repo/worktree path.",Quality (non-functional),High,"Inspection, Test",Inspection,"After unbind, exactly one LocalHost.LibraryPaths entry exists for the VIPB-derived version/bitness and it points to the repo/worktree path.",Run `scripts/run-devmode-unbind-task.ps1 -RepositoryPath <repo>` (or VS Code task 06b) to unbind; inspect LabVIEW.ini for the targeted version/bitness.,LabVIEW.ini snippet showing the single matching entry; helper transcript/guard output confirming other bitness/install entries were untouched (reports/logs/devmode-unbind-task-20251128171114.log).,Automation QA (Agent),Build/Release,Proposed,2025-11-28,scripts/run-devmode-unbind-task.ps1,scripts/run-devmode-unbind-task.ps1;.vscode/tasks.json (06b DevMode: Unbind (auto)),scripts/run-devmode-unbind-task.ps1;.vscode/tasks.json (06b DevMode: Unbind (auto)),Avoids ambiguity and stale bindings across repos/bitness.,Ensures unbind script runs per bitness/worktree and guards against cross-bitness spillover; transcript log included.,Risk: token drift if manual edits; mitigations: bind/unbind scripts enforce clearing/rewriting.,Assumes LabVIEW installed for the version/bitness under test; LabVIEW.ini accessible.,No mutation outside targeted LabVIEW.ini and repo/worktree path.,2 | hash=37ebbad07c6c | Wording update 2025-11-29,Inspection: run unbind script and inspect INI; pass when exactly one matching entry exists for the target version/bitness.,System
BIND-017,9.10 Development Mode Binding,The clear/unbind-all task SHALL remove LocalHost.LibraryPaths entries for all detected LabVIEW versions (32/64) and invoke restore-sources per version/bitness for the provided repository.,Process,Medium,Test,Test,Run `scripts/run-devmode-clear-all-task.ps1 -RepositoryPath <repo>` (or VS Code task 06c) to delete all LocalHost.LibraryPaths entries and run the restore-sources step per bitness.,Logs showing each LabVIEW.ini cleared plus restore-sources output for each version/bitness; guard output verifying every detected INI state change is accounted for (reports/logs/devmode-clear-all-task-20251128171125.log).,Logs showing each cleared LabVIEW.ini entry per bitness plus restore-sources output; transcript log: reports/logs/devmode-clear-all-task-20251128171125.log.,Automation QA (Agent),Build/Release,Proposed,2025-11-28,scripts/run-devmode-clear-all-task.ps1,scripts/run-devmode-clear-all-task.ps1;.vscode/tasks.json (06c DevMode: Clear/Unbind all LabVIEW versions),scripts/run-devmode-clear-all-task.ps1;.vscode/tasks.json (06c DevMode: Clear/Unbind all LabVIEW versions),Resets dev-mode state across all installed LabVIEW versions in one task.,Clear-all script removes all LabVIEW tokens and records restore-sources per bitness; transcript attached.,Risk: missing restores if tooling fails; mitigation: warns on missing INIs and attempts OrchestrationCli restore.,Assumes dotnet/orchestration CLI available; LabVIEW installed under canonical paths.,No mutation outside LabVIEW INI and repo restore assets; writes logs/summary to console.,2 | hash=0c1f986a71c1 | Wording update 2025-11-29,Test: witness QA reviewer; facility Windows LabVIEW runner; equipment LabVIEW.ini summaries and restore logs per clear-all script; pass per acceptance criteria.,System
